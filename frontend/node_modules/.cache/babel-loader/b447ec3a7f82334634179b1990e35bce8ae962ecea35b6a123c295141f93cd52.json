{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useAuthActions.js\n// Migrado completamente al backend - usa AuthContext\n\nimport { useAuth } from '../contexts/AuthContext';\nexport const useAuthActions = () => {\n  _s();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const requireAuth = (action, options = {}) => {\n    const {\n      message = 'Debes iniciar sesión para realizar esta acción',\n      onLogin = null\n    } = options;\n    if (!isAuthenticated) {\n      if (window.confirm(`${message}\\n\\n¿Deseas iniciar sesión ahora?`)) {\n        if (onLogin) {\n          onLogin();\n        } else {\n          // Trigger del modal de autenticación\n          const event = new CustomEvent('showAuthModal');\n          window.dispatchEvent(event);\n        }\n      }\n      return false;\n    }\n\n    // Usuario autenticado, ejecutar acción\n    if (typeof action === 'function') {\n      action();\n    }\n    return true;\n  };\n  const protectedAction = (action, authMessage) => {\n    return () => requireAuth(action, {\n      message: authMessage\n    });\n  };\n  return {\n    user,\n    isAuthenticated,\n    requireAuth,\n    protectedAction\n  };\n};\n_s(useAuthActions, \"ZciNvz1w38ujgxJkc4IsNEDLTNc=\", false, function () {\n  return [useAuth];\n});","map":{"version":3,"names":["useAuth","useAuthActions","_s","user","isAuthenticated","requireAuth","action","options","message","onLogin","window","confirm","event","CustomEvent","dispatchEvent","protectedAction","authMessage"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/hooks/useAuthActions.js"],"sourcesContent":["// src/hooks/useAuthActions.js\n// Migrado completamente al backend - usa AuthContext\n\nimport { useAuth } from '../contexts/AuthContext';\n\nexport const useAuthActions = () => {\n  const { user, isAuthenticated } = useAuth();\n\n  const requireAuth = (action, options = {}) => {\n    const { \n      message = 'Debes iniciar sesión para realizar esta acción',\n      onLogin = null \n    } = options;\n\n    if (!isAuthenticated) {\n      if (window.confirm(`${message}\\n\\n¿Deseas iniciar sesión ahora?`)) {\n        if (onLogin) {\n          onLogin();\n        } else {\n          // Trigger del modal de autenticación\n          const event = new CustomEvent('showAuthModal');\n          window.dispatchEvent(event);\n        }\n      }\n      return false;\n    }\n    \n    // Usuario autenticado, ejecutar acción\n    if (typeof action === 'function') {\n      action();\n    }\n    return true;\n  };\n\n  const protectedAction = (action, authMessage) => {\n    return () => requireAuth(action, { message: authMessage });\n  };\n\n  return {\n    user,\n    isAuthenticated,\n    requireAuth,\n    protectedAction\n  };\n};"],"mappings":";AAAA;AACA;;AAEA,SAASA,OAAO,QAAQ,yBAAyB;AAEjD,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM;IAAEC,IAAI;IAAEC;EAAgB,CAAC,GAAGJ,OAAO,CAAC,CAAC;EAE3C,MAAMK,WAAW,GAAGA,CAACC,MAAM,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC5C,MAAM;MACJC,OAAO,GAAG,gDAAgD;MAC1DC,OAAO,GAAG;IACZ,CAAC,GAAGF,OAAO;IAEX,IAAI,CAACH,eAAe,EAAE;MACpB,IAAIM,MAAM,CAACC,OAAO,CAAC,GAAGH,OAAO,mCAAmC,CAAC,EAAE;QACjE,IAAIC,OAAO,EAAE;UACXA,OAAO,CAAC,CAAC;QACX,CAAC,MAAM;UACL;UACA,MAAMG,KAAK,GAAG,IAAIC,WAAW,CAAC,eAAe,CAAC;UAC9CH,MAAM,CAACI,aAAa,CAACF,KAAK,CAAC;QAC7B;MACF;MACA,OAAO,KAAK;IACd;;IAEA;IACA,IAAI,OAAON,MAAM,KAAK,UAAU,EAAE;MAChCA,MAAM,CAAC,CAAC;IACV;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAMS,eAAe,GAAGA,CAACT,MAAM,EAAEU,WAAW,KAAK;IAC/C,OAAO,MAAMX,WAAW,CAACC,MAAM,EAAE;MAAEE,OAAO,EAAEQ;IAAY,CAAC,CAAC;EAC5D,CAAC;EAED,OAAO;IACLb,IAAI;IACJC,eAAe;IACfC,WAAW;IACXU;EACF,CAAC;AACH,CAAC;AAACb,EAAA,CAvCWD,cAAc;EAAA,QACSD,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}