{"ast":null,"code":"// src/contexts/AuthContext.js\n// Nuevo contexto de autenticaci√≥n que usa el backend Node.js en lugar de Firebase\nimport{createContext,useContext,useState,useEffect,useCallback}from'react';import backendAPI from'../services/backendAPI';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function AuthProvider(_ref){var _user$verification,_user$verification2,_user$suspension;let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Verificar token al cargar la aplicaci√≥n\nuseEffect(()=>{const initializeAuth=async()=>{setLoading(true);try{if(backendAPI.token){// Verificar si el token es v√°lido\nconst response=await backendAPI.verifyToken();if(response.success){setUser(response.user);}else{// Token inv√°lido, limpiar\nbackendAPI.clearTokens();setUser(null);}}else{setUser(null);}}catch(error){console.error('Error initializing auth:',error);// Si hay error verificando token, limpiar todo\nbackendAPI.clearTokens();setUser(null);}finally{setLoading(false);}};initializeAuth();},[]);// Funci√≥n para registrar nuevo usuario\nconst register=useCallback(async userData=>{try{setError(null);setLoading(true);const response=await backendAPI.register(userData);if(response.success){setUser(response.user);console.log('‚úÖ Usuario registrado exitosamente:',response.user.username);return{success:true,user:response.user};}else{throw new Error(response.message||'Error en registro');}}catch(error){console.error('‚ùå Error en registro:',error);setError(error);return{success:false,error:error.message||'Error registrando usuario'};}finally{setLoading(false);}},[]);// Funci√≥n para login\nconst login=useCallback(async(email,password)=>{try{setError(null);setLoading(true);const response=await backendAPI.login(email,password);if(response.success){setUser(response.user);console.log('‚úÖ Login exitoso:',response.user.username);return{success:true,user:response.user};}else{throw new Error(response.message||'Error en login');}}catch(error){console.error('‚ùå Error en login:',error);setError(error);return{success:false,error:error.message||'Credenciales incorrectas'};}finally{setLoading(false);}},[]);// Funci√≥n para logout\nconst logout=useCallback(async()=>{try{setLoading(true);await backendAPI.logout();setUser(null);console.log('üëã Logout exitoso');return{success:true};}catch(error){console.error('‚ùå Error en logout:',error);// Aunque haya error en logout, limpiar estado local\nsetUser(null);return{success:false,error:error.message};}finally{setLoading(false);}},[]);// Funci√≥n para actualizar perfil\nconst updateProfile=useCallback(async profileData=>{try{setError(null);const response=await backendAPI.updateProfile(profileData);if(response.success){setUser(response.user);console.log('‚úÖ Perfil actualizado');return{success:true,user:response.user};}else{throw new Error(response.message||'Error actualizando perfil');}}catch(error){console.error('‚ùå Error actualizando perfil:',error);setError(error);return{success:false,error:error.message||'Error actualizando perfil'};}},[]);// Funci√≥n para actualizar configuraciones\nconst updateSettings=useCallback(async settings=>{try{setError(null);const response=await backendAPI.updateProfile({settings});if(response.success){// Actualizar settings en el usuario actual\nsetUser(prevUser=>({...prevUser,settings:response.settings}));console.log('‚öôÔ∏è Configuraciones actualizadas');return{success:true,settings:response.settings};}else{throw new Error(response.message||'Error actualizando configuraciones');}}catch(error){console.error('‚ùå Error actualizando configuraciones:',error);setError(error);return{success:false,error:error.message||'Error actualizando configuraciones'};}},[]);// Funci√≥n para cambiar contrase√±a (TODO: implementar en backend)\nconst changePassword=useCallback(async(currentPassword,newPassword)=>{try{setError(null);// TODO: Implementar endpoint en backend\nconsole.log('üîê Funcionalidad de cambio de contrase√±a pendiente');return{success:false,error:'Funcionalidad pendiente de implementar'};}catch(error){console.error('‚ùå Error cambiando contrase√±a:',error);setError(error);return{success:false,error:error.message||'Error cambiando contrase√±a'};}},[]);// Funci√≥n para subir foto de perfil (TODO: implementar)\nconst uploadProfilePicture=useCallback(async file=>{try{setError(null);// TODO: Implementar upload de im√°genes\nconsole.log('üì∑ Funcionalidad de foto de perfil pendiente');return{success:false,error:'Funcionalidad pendiente de implementar'};}catch(error){console.error('‚ùå Error subiendo foto de perfil:',error);setError(error);return{success:false,error:error.message||'Error subiendo foto de perfil'};}},[]);// Funci√≥n para eliminar foto de perfil (TODO: implementar)\nconst deleteProfilePicture=useCallback(async()=>{try{setError(null);console.log('üóëÔ∏è Funcionalidad pendiente');return{success:false,error:'Funcionalidad pendiente de implementar'};}catch(error){console.error('‚ùå Error eliminando foto de perfil:',error);setError(error);return{success:false,error:error.message||'Error eliminando foto de perfil'};}},[]);// Funci√≥n para obtener estad√≠sticas del usuario\nconst getUserStats=useCallback(async()=>{try{setError(null);const response=await backendAPI.getDashboardStats();if(response.success){return{success:true,stats:response.stats};}else{throw new Error(response.message||'Error obteniendo estad√≠sticas');}}catch(error){console.error('‚ùå Error obteniendo estad√≠sticas:',error);setError(error);return{success:false,error:error.message||'Error obteniendo estad√≠sticas'};}},[]);// Funci√≥n para refrescar datos del usuario\nconst refreshUser=useCallback(async()=>{try{if(!backendAPI.token){setUser(null);return{success:false,error:'No autenticado'};}const response=await backendAPI.getProfile();if(response.success){setUser(response.user);return{success:true,user:response.user};}else{throw new Error(response.message||'Error refrescando usuario');}}catch(error){console.error('‚ùå Error refrescando usuario:',error);setError(error);return{success:false,error:error.message||'Error refrescando datos'};}},[]);// Limpiar errores\nconst clearError=useCallback(()=>{setError(null);},[]);// Valor del contexto\nconst value={// Estado\nuser,loading,error,// M√©todos de autenticaci√≥n\nregister,login,logout,// M√©todos de perfil\nupdateProfile,updateSettings,changePassword,uploadProfilePicture,deleteProfilePicture,// M√©todos utilitarios\ngetUserStats,refreshUser,clearError,// Estado de autenticaci√≥n\nisAuthenticated:!!user&&!loading,canUseP2P:(user===null||user===void 0?void 0:(_user$verification=user.verification)===null||_user$verification===void 0?void 0:_user$verification.phone)&&(user===null||user===void 0?void 0:(_user$verification2=user.verification)===null||_user$verification2===void 0?void 0:_user$verification2.identity)&&!(user!==null&&user!==void 0&&(_user$suspension=user.suspension)!==null&&_user$suspension!==void 0&&_user$suspension.suspended),// Informaci√≥n del usuario\ncurrentUser:user,userRole:(user===null||user===void 0?void 0:user.role)||'user'};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});}// Hook personalizado para usar el contexto\nexport function useAuth(){const context=useContext(AuthContext);if(context===undefined){throw new Error('useAuth must be used within an AuthProvider');}return context;}// Hook para verificar si est√° autenticado (m√°s simple)\nexport function useAuthState(){const{user,loading}=useAuth();return{user,loading,isAuthenticated:!!user&&!loading};}export default AuthContext;","map":{"version":3,"names":["createContext","useContext","useState","useEffect","useCallback","backendAPI","jsx","_jsx","AuthContext","AuthProvider","_ref","_user$verification","_user$verification2","_user$suspension","children","user","setUser","loading","setLoading","error","setError","initializeAuth","token","response","verifyToken","success","clearTokens","console","register","userData","log","username","Error","message","login","email","password","logout","updateProfile","profileData","updateSettings","settings","prevUser","changePassword","currentPassword","newPassword","uploadProfilePicture","file","deleteProfilePicture","getUserStats","getDashboardStats","stats","refreshUser","getProfile","clearError","value","isAuthenticated","canUseP2P","verification","phone","identity","suspension","suspended","currentUser","userRole","role","Provider","useAuth","context","undefined","useAuthState"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/contexts/AuthContext.js"],"sourcesContent":["// src/contexts/AuthContext.js\n// Nuevo contexto de autenticaci√≥n que usa el backend Node.js en lugar de Firebase\n\nimport { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport backendAPI from '../services/backendAPI';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Verificar token al cargar la aplicaci√≥n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      setLoading(true);\n      try {\n        if (backendAPI.token) {\n          // Verificar si el token es v√°lido\n          const response = await backendAPI.verifyToken();\n          if (response.success) {\n            setUser(response.user);\n          } else {\n            // Token inv√°lido, limpiar\n            backendAPI.clearTokens();\n            setUser(null);\n          }\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n        // Si hay error verificando token, limpiar todo\n        backendAPI.clearTokens();\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  // Funci√≥n para registrar nuevo usuario\n  const register = useCallback(async (userData) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      const response = await backendAPI.register(userData);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Usuario registrado exitosamente:', response.user.username);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error en registro');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en registro:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error registrando usuario' \n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para login\n  const login = useCallback(async (email, password) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      const response = await backendAPI.login(email, password);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Login exitoso:', response.user.username);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error en login');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en login:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Credenciales incorrectas' \n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para logout\n  const logout = useCallback(async () => {\n    try {\n      setLoading(true);\n      await backendAPI.logout();\n      setUser(null);\n      console.log('üëã Logout exitoso');\n      return { success: true };\n    } catch (error) {\n      console.error('‚ùå Error en logout:', error);\n      // Aunque haya error en logout, limpiar estado local\n      setUser(null);\n      return { success: false, error: error.message };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para actualizar perfil\n  const updateProfile = useCallback(async (profileData) => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile(profileData);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Perfil actualizado');\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error actualizando perfil');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error actualizando perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para actualizar configuraciones\n  const updateSettings = useCallback(async (settings) => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile({ settings });\n      \n      if (response.success) {\n        // Actualizar settings en el usuario actual\n        setUser(prevUser => ({\n          ...prevUser,\n          settings: response.settings\n        }));\n        console.log('‚öôÔ∏è Configuraciones actualizadas');\n        return { success: true, settings: response.settings };\n      } else {\n        throw new Error(response.message || 'Error actualizando configuraciones');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando configuraciones:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error actualizando configuraciones' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para cambiar contrase√±a (TODO: implementar en backend)\n  const changePassword = useCallback(async (currentPassword, newPassword) => {\n    try {\n      setError(null);\n      // TODO: Implementar endpoint en backend\n      console.log('üîê Funcionalidad de cambio de contrase√±a pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error cambiando contrase√±a:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error cambiando contrase√±a' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para subir foto de perfil (TODO: implementar)\n  const uploadProfilePicture = useCallback(async (file) => {\n    try {\n      setError(null);\n      // TODO: Implementar upload de im√°genes\n      console.log('üì∑ Funcionalidad de foto de perfil pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error subiendo foto de perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error subiendo foto de perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para eliminar foto de perfil (TODO: implementar)\n  const deleteProfilePicture = useCallback(async () => {\n    try {\n      setError(null);\n      console.log('üóëÔ∏è Funcionalidad pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error eliminando foto de perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error eliminando foto de perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para obtener estad√≠sticas del usuario\n  const getUserStats = useCallback(async () => {\n    try {\n      setError(null);\n      const response = await backendAPI.getDashboardStats();\n      \n      if (response.success) {\n        return { success: true, stats: response.stats };\n      } else {\n        throw new Error(response.message || 'Error obteniendo estad√≠sticas');\n      }\n    } catch (error) {\n      console.error('‚ùå Error obteniendo estad√≠sticas:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error obteniendo estad√≠sticas' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para refrescar datos del usuario\n  const refreshUser = useCallback(async () => {\n    try {\n      if (!backendAPI.token) {\n        setUser(null);\n        return { success: false, error: 'No autenticado' };\n      }\n\n      const response = await backendAPI.getProfile();\n      \n      if (response.success) {\n        setUser(response.user);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error refrescando usuario');\n      }\n    } catch (error) {\n      console.error('‚ùå Error refrescando usuario:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error refrescando datos' \n      };\n    }\n  }, []);\n\n  // Limpiar errores\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Valor del contexto\n  const value = {\n    // Estado\n    user,\n    loading,\n    error,\n    \n    // M√©todos de autenticaci√≥n\n    register,\n    login,\n    logout,\n    \n    // M√©todos de perfil\n    updateProfile,\n    updateSettings,\n    changePassword,\n    uploadProfilePicture,\n    deleteProfilePicture,\n    \n    // M√©todos utilitarios\n    getUserStats,\n    refreshUser,\n    clearError,\n    \n    // Estado de autenticaci√≥n\n    isAuthenticated: !!user && !loading,\n    canUseP2P: user?.verification?.phone && user?.verification?.identity && !user?.suspension?.suspended,\n    \n    // Informaci√≥n del usuario\n    currentUser: user,\n    userRole: user?.role || 'user',\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\n// Hook personalizado para usar el contexto\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\n// Hook para verificar si est√° autenticado (m√°s simple)\nexport function useAuthState() {\n  const { user, loading } = useAuth();\n  return { user, loading, isAuthenticated: !!user && !loading };\n}\n\nexport default AuthContext;"],"mappings":"AAAA;AACA;AAEA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACnF,MAAO,CAAAC,UAAU,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,WAAW,cAAGR,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAS,YAAYA,CAAAC,IAAA,CAAe,KAAAC,kBAAA,CAAAC,mBAAA,CAAAC,gBAAA,IAAd,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACvC,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAExC;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCH,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,GAAIb,UAAU,CAACiB,KAAK,CAAE,CACpB;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAACmB,WAAW,CAAC,CAAC,CAC/C,GAAID,QAAQ,CAACE,OAAO,CAAE,CACpBT,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC,CACxB,CAAC,IAAM,CACL;AACAV,UAAU,CAACqB,WAAW,CAAC,CAAC,CACxBV,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAC,IAAM,CACLA,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAE,MAAOG,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD;AACAd,UAAU,CAACqB,WAAW,CAAC,CAAC,CACxBV,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAO,QAAQ,CAAGxB,WAAW,CAAC,KAAO,CAAAyB,QAAQ,EAAK,CAC/C,GAAI,CACFT,QAAQ,CAAC,IAAI,CAAC,CACdF,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAACuB,QAAQ,CAACC,QAAQ,CAAC,CAEpD,GAAIN,QAAQ,CAACE,OAAO,CAAE,CACpBT,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC,CACtBY,OAAO,CAACG,GAAG,CAAC,oCAAoC,CAAEP,QAAQ,CAACR,IAAI,CAACgB,QAAQ,CAAC,CACzE,MAAO,CAAEN,OAAO,CAAE,IAAI,CAAEV,IAAI,CAAEQ,QAAQ,CAACR,IAAK,CAAC,CAC/C,CAAC,IAAM,CACL,KAAM,IAAI,CAAAiB,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,mBAAmB,CAAC,CAC1D,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,2BAC1B,CAAC,CACH,CAAC,OAAS,CACRf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAgB,KAAK,CAAG9B,WAAW,CAAC,MAAO+B,KAAK,CAAEC,QAAQ,GAAK,CACnD,GAAI,CACFhB,QAAQ,CAAC,IAAI,CAAC,CACdF,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAAC6B,KAAK,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAExD,GAAIb,QAAQ,CAACE,OAAO,CAAE,CACpBT,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC,CACtBY,OAAO,CAACG,GAAG,CAAC,kBAAkB,CAAEP,QAAQ,CAACR,IAAI,CAACgB,QAAQ,CAAC,CACvD,MAAO,CAAEN,OAAO,CAAE,IAAI,CAAEV,IAAI,CAAEQ,QAAQ,CAACR,IAAK,CAAC,CAC/C,CAAC,IAAM,CACL,KAAM,IAAI,CAAAiB,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,gBAAgB,CAAC,CACvD,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzCC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,0BAC1B,CAAC,CACH,CAAC,OAAS,CACRf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAmB,MAAM,CAAGjC,WAAW,CAAC,SAAY,CACrC,GAAI,CACFc,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAb,UAAU,CAACgC,MAAM,CAAC,CAAC,CACzBrB,OAAO,CAAC,IAAI,CAAC,CACbW,OAAO,CAACG,GAAG,CAAC,mBAAmB,CAAC,CAChC,MAAO,CAAEL,OAAO,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAON,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C;AACAH,OAAO,CAAC,IAAI,CAAC,CACb,MAAO,CAAES,OAAO,CAAE,KAAK,CAAEN,KAAK,CAAEA,KAAK,CAACc,OAAQ,CAAC,CACjD,CAAC,OAAS,CACRf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAoB,aAAa,CAAGlC,WAAW,CAAC,KAAO,CAAAmC,WAAW,EAAK,CACvD,GAAI,CACFnB,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAACiC,aAAa,CAACC,WAAW,CAAC,CAE5D,GAAIhB,QAAQ,CAACE,OAAO,CAAE,CACpBT,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC,CACtBY,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAC,CACnC,MAAO,CAAEL,OAAO,CAAE,IAAI,CAAEV,IAAI,CAAEQ,QAAQ,CAACR,IAAK,CAAC,CAC/C,CAAC,IAAM,CACL,KAAM,IAAI,CAAAiB,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,2BAA2B,CAAC,CAClE,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,2BAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAO,cAAc,CAAGpC,WAAW,CAAC,KAAO,CAAAqC,QAAQ,EAAK,CACrD,GAAI,CACFrB,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAACiC,aAAa,CAAC,CAAEG,QAAS,CAAC,CAAC,CAE7D,GAAIlB,QAAQ,CAACE,OAAO,CAAE,CACpB;AACAT,OAAO,CAAC0B,QAAQ,GAAK,CACnB,GAAGA,QAAQ,CACXD,QAAQ,CAAElB,QAAQ,CAACkB,QACrB,CAAC,CAAC,CAAC,CACHd,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAC,CAC9C,MAAO,CAAEL,OAAO,CAAE,IAAI,CAAEgB,QAAQ,CAAElB,QAAQ,CAACkB,QAAS,CAAC,CACvD,CAAC,IAAM,CACL,KAAM,IAAI,CAAAT,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,oCAAoC,CAAC,CAC3E,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,uCAAuC,CAAEA,KAAK,CAAC,CAC7DC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,oCAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAU,cAAc,CAAGvC,WAAW,CAAC,MAAOwC,eAAe,CAAEC,WAAW,GAAK,CACzE,GAAI,CACFzB,QAAQ,CAAC,IAAI,CAAC,CACd;AACAO,OAAO,CAACG,GAAG,CAAC,oDAAoD,CAAC,CACjE,MAAO,CACLL,OAAO,CAAE,KAAK,CACdN,KAAK,CAAE,wCACT,CAAC,CACH,CAAE,MAAOA,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrDC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,4BAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAa,oBAAoB,CAAG1C,WAAW,CAAC,KAAO,CAAA2C,IAAI,EAAK,CACvD,GAAI,CACF3B,QAAQ,CAAC,IAAI,CAAC,CACd;AACAO,OAAO,CAACG,GAAG,CAAC,8CAA8C,CAAC,CAC3D,MAAO,CACLL,OAAO,CAAE,KAAK,CACdN,KAAK,CAAE,wCACT,CAAC,CACH,CAAE,MAAOA,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxDC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,+BAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAe,oBAAoB,CAAG5C,WAAW,CAAC,SAAY,CACnD,GAAI,CACFgB,QAAQ,CAAC,IAAI,CAAC,CACdO,OAAO,CAACG,GAAG,CAAC,6BAA6B,CAAC,CAC1C,MAAO,CACLL,OAAO,CAAE,KAAK,CACdN,KAAK,CAAE,wCACT,CAAC,CACH,CAAE,MAAOA,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1DC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,iCAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAgB,YAAY,CAAG7C,WAAW,CAAC,SAAY,CAC3C,GAAI,CACFgB,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAAC6C,iBAAiB,CAAC,CAAC,CAErD,GAAI3B,QAAQ,CAACE,OAAO,CAAE,CACpB,MAAO,CAAEA,OAAO,CAAE,IAAI,CAAE0B,KAAK,CAAE5B,QAAQ,CAAC4B,KAAM,CAAC,CACjD,CAAC,IAAM,CACL,KAAM,IAAI,CAAAnB,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,+BAA+B,CAAC,CACtE,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxDC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,+BAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAmB,WAAW,CAAGhD,WAAW,CAAC,SAAY,CAC1C,GAAI,CACF,GAAI,CAACC,UAAU,CAACiB,KAAK,CAAE,CACrBN,OAAO,CAAC,IAAI,CAAC,CACb,MAAO,CAAES,OAAO,CAAE,KAAK,CAAEN,KAAK,CAAE,gBAAiB,CAAC,CACpD,CAEA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAlB,UAAU,CAACgD,UAAU,CAAC,CAAC,CAE9C,GAAI9B,QAAQ,CAACE,OAAO,CAAE,CACpBT,OAAO,CAACO,QAAQ,CAACR,IAAI,CAAC,CACtB,MAAO,CAAEU,OAAO,CAAE,IAAI,CAAEV,IAAI,CAAEQ,QAAQ,CAACR,IAAK,CAAC,CAC/C,CAAC,IAAM,CACL,KAAM,IAAI,CAAAiB,KAAK,CAACT,QAAQ,CAACU,OAAO,EAAI,2BAA2B,CAAC,CAClE,CACF,CAAE,MAAOd,KAAK,CAAE,CACdQ,OAAO,CAACR,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDC,QAAQ,CAACD,KAAK,CAAC,CACf,MAAO,CACLM,OAAO,CAAE,KAAK,CACdN,KAAK,CAAEA,KAAK,CAACc,OAAO,EAAI,yBAC1B,CAAC,CACH,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAqB,UAAU,CAAGlD,WAAW,CAAC,IAAM,CACnCgB,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAmC,KAAK,CAAG,CACZ;AACAxC,IAAI,CACJE,OAAO,CACPE,KAAK,CAEL;AACAS,QAAQ,CACRM,KAAK,CACLG,MAAM,CAEN;AACAC,aAAa,CACbE,cAAc,CACdG,cAAc,CACdG,oBAAoB,CACpBE,oBAAoB,CAEpB;AACAC,YAAY,CACZG,WAAW,CACXE,UAAU,CAEV;AACAE,eAAe,CAAE,CAAC,CAACzC,IAAI,EAAI,CAACE,OAAO,CACnCwC,SAAS,CAAE,CAAA1C,IAAI,SAAJA,IAAI,kBAAAJ,kBAAA,CAAJI,IAAI,CAAE2C,YAAY,UAAA/C,kBAAA,iBAAlBA,kBAAA,CAAoBgD,KAAK,IAAI5C,IAAI,SAAJA,IAAI,kBAAAH,mBAAA,CAAJG,IAAI,CAAE2C,YAAY,UAAA9C,mBAAA,iBAAlBA,mBAAA,CAAoBgD,QAAQ,GAAI,EAAC7C,IAAI,SAAJA,IAAI,YAAAF,gBAAA,CAAJE,IAAI,CAAE8C,UAAU,UAAAhD,gBAAA,WAAhBA,gBAAA,CAAkBiD,SAAS,EAEpG;AACAC,WAAW,CAAEhD,IAAI,CACjBiD,QAAQ,CAAE,CAAAjD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkD,IAAI,GAAI,MAC1B,CAAC,CAED,mBAAO1D,IAAA,CAACC,WAAW,CAAC0D,QAAQ,EAACX,KAAK,CAAEA,KAAM,CAAAzC,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC9E,CAEA;AACA,MAAO,SAAS,CAAAqD,OAAOA,CAAA,CAAG,CACxB,KAAM,CAAAC,OAAO,CAAGnE,UAAU,CAACO,WAAW,CAAC,CACvC,GAAI4D,OAAO,GAAKC,SAAS,CAAE,CACzB,KAAM,IAAI,CAAArC,KAAK,CAAC,6CAA6C,CAAC,CAChE,CACA,MAAO,CAAAoC,OAAO,CAChB,CAEA;AACA,MAAO,SAAS,CAAAE,YAAYA,CAAA,CAAG,CAC7B,KAAM,CAAEvD,IAAI,CAAEE,OAAQ,CAAC,CAAGkD,OAAO,CAAC,CAAC,CACnC,MAAO,CAAEpD,IAAI,CAAEE,OAAO,CAAEuC,eAAe,CAAE,CAAC,CAACzC,IAAI,EAAI,CAACE,OAAQ,CAAC,CAC/D,CAEA,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}