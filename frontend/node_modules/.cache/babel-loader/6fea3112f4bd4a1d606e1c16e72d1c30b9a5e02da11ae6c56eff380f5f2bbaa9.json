{"ast":null,"code":"var _jsxFileName = \"/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/Cart.js\",\n  _s = $RefreshSig$();\n// src/pages/Cart.js\nimport React, { useState } from 'react';\nimport { Container, Row, Col, Card, Button, Image, Badge, Alert, Form, Modal } from 'react-bootstrap';\nimport { FaShoppingCart, FaUser, FaStar, FaMapMarkerAlt, FaTrash, FaWhatsapp, FaComments, FaHandshake, FaCreditCard } from 'react-icons/fa';\nimport { motion } from 'framer-motion';\nimport { useCart } from '../contexts/CartContext';\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\nimport { useNavigate } from 'react-router-dom';\nimport P2PCheckout from '../components/P2PCheckout';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  // TODO: Replace with AuthContext when migrated\n  const user = null; // Temporarily disabled\n  const {\n    cart,\n    removeFromCart,\n    clearCart,\n    getTotalPrice,\n    getTotalItems\n  } = useCart();\n  const [showProposeModal, setShowProposeModal] = useState(false);\n  const [showP2PCheckout, setShowP2PCheckout] = useState(false);\n  const [selectedSeller, setSelectedSeller] = useState(null);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [buyerNotes, setBuyerNotes] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Agrupar carrito por vendedores\n  const groupedCart = cart.reduce((groups, item) => {\n    const sellerId = item.sellerId;\n    if (!groups[sellerId]) {\n      groups[sellerId] = {\n        sellerId,\n        sellerName: item.sellerName,\n        sellerPhone: item.userPhone,\n        sellerEmail: item.userEmail,\n        sellerRating: item.sellerRating || 4.5,\n        // Simulado por ahora\n        sellerReviews: item.sellerReviews || 15,\n        // Simulado por ahora\n        items: []\n      };\n    }\n    groups[sellerId].items.push(item);\n    return groups;\n  }, {});\n  const sellerGroups = Object.values(groupedCart);\n  const totalItems = getTotalItems();\n  const totalPrice = getTotalPrice();\n  const handleProposeDeal = seller => {\n    if (!user) {\n      alert('Debes iniciar sesión para proponer un trato');\n      return;\n    }\n    setSelectedSeller(seller);\n    setSelectedItems(seller.items);\n    setShowProposeModal(true);\n  };\n  const handleSubmitProposal = async () => {\n    if (!user || !selectedSeller || selectedItems.length === 0) return;\n    setLoading(true);\n    try {\n      // Crear transacción\n      const transactionData = {\n        buyerId: user.uid,\n        buyerName: user.displayName || user.email,\n        buyerEmail: user.email,\n        sellerId: selectedSeller.sellerId,\n        sellerName: selectedSeller.sellerName,\n        sellerEmail: selectedSeller.sellerEmail,\n        items: selectedItems.map(item => ({\n          listingId: item.listingId,\n          cardId: item.cardId,\n          cardName: item.cardName,\n          cardImage: item.cardImage,\n          price: item.price,\n          quantity: item.quantity,\n          condition: item.condition,\n          tcgType: item.tcgType\n        })),\n        totalAmount: selectedItems.reduce((sum, item) => sum + item.price * item.quantity, 0),\n        status: 'PENDIENTE',\n        buyerNotes: buyerNotes.trim(),\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      const transactionRef = await addDoc(collection(/* db */null, 'transactions'), transactionData);\n\n      // Crear notificación para el vendedor\n      const notificationData = {\n        userId: selectedSeller.sellerId,\n        type: 'NUEVA_OFERTA',\n        transactionId: transactionRef.id,\n        title: 'Nueva oferta recibida',\n        message: `${user.displayName || user.email} está interesado en ${selectedItems.length} carta(s)`,\n        read: false,\n        createdAt: new Date()\n      };\n      await addDoc(collection(/* db */null, 'notifications'), notificationData);\n\n      // Remover items del carrito\n      selectedItems.forEach(item => {\n        removeFromCart(item.listingId);\n      });\n      alert('¡Oferta enviada exitosamente! El vendedor será notificado.');\n      setShowProposeModal(false);\n      setBuyerNotes('');\n\n      // Redirigir al dashboard para ver la transacción\n      navigate('/dashboard?tab=transactions');\n    } catch (error) {\n      console.error('Error creating transaction:', error);\n      alert('Error al enviar la oferta. Inténtalo de nuevo.');\n    }\n    setLoading(false);\n  };\n  const openWhatsAppChat = seller => {\n    var _seller$sellerPhone;\n    const items = seller.items;\n    const itemsList = items.map(item => `• ${item.cardName} (${item.condition}) - ₡${item.price.toLocaleString()}`).join('\\\\n');\n    const message = `¡Hola! Me interesa comprar estas cartas de TCG:\\\\n\\\\n${itemsList}\\\\n\\\\nTotal: ₡${items.reduce((sum, item) => sum + item.price * item.quantity, 0).toLocaleString()}\\\\n\\\\n¿Podemos coordinar la compra?`;\n    const phoneNumber = (_seller$sellerPhone = seller.sellerPhone) === null || _seller$sellerPhone === void 0 ? void 0 : _seller$sellerPhone.replace(/[^\\\\d]/g, '');\n    if (phoneNumber) {\n      window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`);\n    } else {\n      alert('Número de WhatsApp no disponible');\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"info\",\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {\n          className: \"me-2\",\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Inicia sesi\\xF3n para ver tu carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n  if (totalItems === 0) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"info\",\n          children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {\n            className: \"me-2\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Tu carrito est\\xE1 vac\\xEDo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\xA1Explora nuestro marketplace y encuentra las mejores cartas!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => navigate('/marketplace'),\n            children: \"Ir al Marketplace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    className: \"section\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: [\"\\uD83D\\uDED2 Mi Carrito (\", totalItems, \" productos)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-secondary\",\n            onClick: () => navigate('/marketplace'),\n            children: \"Seguir Comprando\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-danger\",\n            onClick: () => {\n              if (window.confirm('¿Vaciar todo el carrito?')) {\n                clearCart();\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), \"Vaciar Carrito\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 8,\n          children: sellerGroups.map((seller, index) => {\n            const sellerTotal = seller.items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n            return /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                delay: index * 0.1\n              },\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"seller-group-card shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                  className: \"seller-header\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex align-items-center gap-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"seller-avatar\",\n                          children: /*#__PURE__*/_jsxDEV(FaUser, {\n                            size: 24\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"mb-1\",\n                            children: seller.sellerName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 222,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex align-items-center gap-2\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"d-flex align-items-center\",\n                              children: [/*#__PURE__*/_jsxDEV(FaStar, {\n                                className: \"text-warning me-1\",\n                                size: 14\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 225,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: seller.sellerRating\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 226,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                                className: \"text-muted ms-1\",\n                                children: [\"(\", seller.sellerReviews, \" rese\\xF1as)\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 227,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 224,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 223,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 221,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"text-end\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"fw-bold fs-5 text-success\",\n                        children: [\"\\u20A1\", sellerTotal.toLocaleString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 234,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: [seller.items.length, \" producto\", seller.items.length > 1 ? 's' : '']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [seller.items.map((item, itemIndex) => {\n                    var _item$tcgType;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"cart-item mb-3 p-3 rounded\",\n                      children: /*#__PURE__*/_jsxDEV(Row, {\n                        className: \"align-items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          xs: 3,\n                          md: 2,\n                          children: /*#__PURE__*/_jsxDEV(Image, {\n                            src: item.cardImage || 'https://via.placeholder.com/100',\n                            alt: item.cardName,\n                            className: \"w-100\",\n                            style: {\n                              height: '100px',\n                              objectFit: 'contain'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 250,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          xs: 6,\n                          md: 7,\n                          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                            className: \"mb-1\",\n                            children: item.cardName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 258,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex flex-wrap gap-2 mb-2\",\n                            children: [/*#__PURE__*/_jsxDEV(Badge, {\n                              bg: \"secondary\",\n                              children: (_item$tcgType = item.tcgType) === null || _item$tcgType === void 0 ? void 0 : _item$tcgType.toUpperCase()\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 260,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                              bg: \"info\",\n                              children: item.condition\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 261,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                              bg: \"warning\",\n                              text: \"dark\",\n                              children: [\"Cant: \", item.quantity]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 262,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 259,\n                            columnNumber: 31\n                          }, this), item.location && /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: [/*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n                              className: \"me-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 266,\n                              columnNumber: 35\n                            }, this), item.location]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 265,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          xs: 3,\n                          md: 3,\n                          className: \"text-end\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"fw-bold text-success\",\n                            children: [\"\\u20A1\", (item.price * item.quantity).toLocaleString()]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 272,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: [\"\\u20A1\", item.price.toLocaleString(), \" c/u\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 275,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2\",\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-danger\",\n                              size: \"sm\",\n                              onClick: () => removeFromCart(item.listingId),\n                              children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                                size: 12\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 284,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 279,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 278,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 271,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 27\n                      }, this)\n                    }, `${item.listingId}-${itemIndex}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 25\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex gap-2 mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"primary\",\n                      onClick: () => handleProposeDeal(seller),\n                      className: \"flex-fill\",\n                      children: [/*#__PURE__*/_jsxDEV(FaHandshake, {\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 27\n                      }, this), \"Proponer Trato\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      onClick: () => openWhatsAppChat(seller),\n                      children: [/*#__PURE__*/_jsxDEV(FaWhatsapp, {\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 27\n                      }, this), \"WhatsApp\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)\n            }, seller.sellerId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          lg: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"cart-summary-card sticky-top shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"mb-0\",\n                children: \"\\uD83D\\uDCCA Resumen de Compra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Productos:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: totalItems\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item d-flex justify-content-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Vendedores:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: sellerGroups.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-total d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-bold fs-5\",\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-bold fs-4 text-success\",\n                  children: [\"\\u20A1\", totalPrice.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-grid gap-2 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  size: \"lg\",\n                  onClick: () => setShowP2PCheckout(true),\n                  disabled: !user || cart.length === 0,\n                  children: [/*#__PURE__*/_jsxDEV(FaCreditCard, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 21\n                  }, this), \"Checkout P2P\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), !user && /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted text-center\",\n                  children: \"Inicia sesi\\xF3n para usar el checkout P2P\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"info\",\n                className: \"mt-3 small\",\n                children: [/*#__PURE__*/_jsxDEV(FaComments, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this), \"El checkout P2P maneja autom\\xE1ticamente m\\xFAltiples vendedores y coordina todo el proceso de compra.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: showProposeModal,\n        onHide: () => setShowProposeModal(false),\n        size: \"lg\",\n        centered: true,\n        className: \"glassmorphism-modal\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          className: \"glassmorphism-header\",\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: [/*#__PURE__*/_jsxDEV(FaHandshake, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), \"Proponer Trato a \", selectedSeller === null || selectedSeller === void 0 ? void 0 : selectedSeller.sellerName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          className: \"glassmorphism-body\",\n          children: selectedItems.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Productos seleccionados:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-items mb-3\",\n              children: selectedItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center mb-2 p-2 rounded bg-light\",\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  src: item.cardImage,\n                  alt: item.cardName,\n                  style: {\n                    width: '40px',\n                    height: '56px',\n                    objectFit: 'contain'\n                  },\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold small\",\n                    children: item.cardName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [item.condition, \" \\u2022 Cant: \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fw-bold text-success\",\n                  children: [\"\\u20A1\", (item.price * item.quantity).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-proposal p-3 rounded bg-primary text-white mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-bold\",\n                  children: \"Total de la oferta:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-bold fs-4\",\n                  children: [\"\\u20A1\", selectedItems.reduce((sum, item) => sum + item.price * item.quantity, 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Mensaje adicional (opcional):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 3,\n                placeholder: \"Agrega cualquier comentario o pregunta para el vendedor...\",\n                value: buyerNotes,\n                onChange: e => setBuyerNotes(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"info\",\n              children: [/*#__PURE__*/_jsxDEV(FaComments, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), \"Al enviar esta oferta, se notificar\\xE1 al vendedor y podr\\xE1s hacer seguimiento desde tu dashboard.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          className: \"glassmorphism-body\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setShowProposeModal(false),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleSubmitProposal,\n            disabled: loading,\n            children: loading ? 'Enviando...' : 'Enviar Oferta'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(P2PCheckout, {\n        show: showP2PCheckout,\n        onHide: () => setShowP2PCheckout(false),\n        onTransactionCreated: results => {\n          console.log('Transacciones P2P creadas:', results);\n          setShowP2PCheckout(false);\n          // Navegar al dashboard para ver las transacciones\n          navigate('/dashboard');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"h2E96OVELtlgWpH7qgEFLFsxZNw=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","Container","Row","Col","Card","Button","Image","Badge","Alert","Form","Modal","FaShoppingCart","FaUser","FaStar","FaMapMarkerAlt","FaTrash","FaWhatsapp","FaComments","FaHandshake","FaCreditCard","motion","useCart","useNavigate","P2PCheckout","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","user","cart","removeFromCart","clearCart","getTotalPrice","getTotalItems","showProposeModal","setShowProposeModal","showP2PCheckout","setShowP2PCheckout","selectedSeller","setSelectedSeller","selectedItems","setSelectedItems","buyerNotes","setBuyerNotes","loading","setLoading","navigate","groupedCart","reduce","groups","item","sellerId","sellerName","sellerPhone","userPhone","sellerEmail","userEmail","sellerRating","sellerReviews","items","push","sellerGroups","Object","values","totalItems","totalPrice","handleProposeDeal","seller","alert","handleSubmitProposal","length","transactionData","buyerId","uid","buyerName","displayName","email","buyerEmail","map","listingId","cardId","cardName","cardImage","price","quantity","condition","tcgType","totalAmount","sum","status","trim","createdAt","Date","updatedAt","transactionRef","addDoc","collection","notificationData","userId","type","transactionId","id","title","message","read","forEach","error","console","openWhatsAppChat","_seller$sellerPhone","itemsList","toLocaleString","join","phoneNumber","replace","window","open","encodeURIComponent","className","children","variant","size","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","onClick","confirm","lg","index","sellerTotal","transition","delay","Header","md","Body","itemIndex","_item$tcgType","xs","src","alt","style","height","objectFit","bg","toUpperCase","text","location","disabled","show","onHide","centered","closeButton","Title","width","Group","Label","Control","as","rows","placeholder","value","onChange","e","target","Footer","onTransactionCreated","results","log","_c","$RefreshReg$"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/Cart.js"],"sourcesContent":["// src/pages/Cart.js\nimport React, { useState } from 'react';\nimport { Container, Row, Col, Card, Button, Image, Badge, Alert, Form, Modal } from 'react-bootstrap';\nimport { FaShoppingCart, FaUser, FaStar, FaMapMarkerAlt, FaTrash, FaWhatsapp, FaComments, FaHandshake, FaCreditCard } from 'react-icons/fa';\nimport { motion } from 'framer-motion';\nimport { useCart } from '../contexts/CartContext';\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\nimport { useNavigate } from 'react-router-dom';\nimport P2PCheckout from '../components/P2PCheckout';\n\nexport default function Cart() {\n  // TODO: Replace with AuthContext when migrated\n  const user = null; // Temporarily disabled\n  const { cart, removeFromCart, clearCart, getTotalPrice, getTotalItems } = useCart();\n  const [showProposeModal, setShowProposeModal] = useState(false);\n  const [showP2PCheckout, setShowP2PCheckout] = useState(false);\n  const [selectedSeller, setSelectedSeller] = useState(null);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [buyerNotes, setBuyerNotes] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Agrupar carrito por vendedores\n  const groupedCart = cart.reduce((groups, item) => {\n    const sellerId = item.sellerId;\n    if (!groups[sellerId]) {\n      groups[sellerId] = {\n        sellerId,\n        sellerName: item.sellerName,\n        sellerPhone: item.userPhone,\n        sellerEmail: item.userEmail,\n        sellerRating: item.sellerRating || 4.5, // Simulado por ahora\n        sellerReviews: item.sellerReviews || 15, // Simulado por ahora\n        items: []\n      };\n    }\n    groups[sellerId].items.push(item);\n    return groups;\n  }, {});\n\n  const sellerGroups = Object.values(groupedCart);\n  const totalItems = getTotalItems();\n  const totalPrice = getTotalPrice();\n\n  const handleProposeDeal = (seller) => {\n    if (!user) {\n      alert('Debes iniciar sesión para proponer un trato');\n      return;\n    }\n    setSelectedSeller(seller);\n    setSelectedItems(seller.items);\n    setShowProposeModal(true);\n  };\n\n  const handleSubmitProposal = async () => {\n    if (!user || !selectedSeller || selectedItems.length === 0) return;\n    \n    setLoading(true);\n    try {\n      // Crear transacción\n      const transactionData = {\n        buyerId: user.uid,\n        buyerName: user.displayName || user.email,\n        buyerEmail: user.email,\n        sellerId: selectedSeller.sellerId,\n        sellerName: selectedSeller.sellerName,\n        sellerEmail: selectedSeller.sellerEmail,\n        items: selectedItems.map(item => ({\n          listingId: item.listingId,\n          cardId: item.cardId,\n          cardName: item.cardName,\n          cardImage: item.cardImage,\n          price: item.price,\n          quantity: item.quantity,\n          condition: item.condition,\n          tcgType: item.tcgType\n        })),\n        totalAmount: selectedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n        status: 'PENDIENTE',\n        buyerNotes: buyerNotes.trim(),\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n\n      const transactionRef = await addDoc(collection(/* db */ null, 'transactions'), transactionData);\n      \n      // Crear notificación para el vendedor\n      const notificationData = {\n        userId: selectedSeller.sellerId,\n        type: 'NUEVA_OFERTA',\n        transactionId: transactionRef.id,\n        title: 'Nueva oferta recibida',\n        message: `${user.displayName || user.email} está interesado en ${selectedItems.length} carta(s)`,\n        read: false,\n        createdAt: new Date()\n      };\n\n      await addDoc(collection(/* db */ null, 'notifications'), notificationData);\n\n      // Remover items del carrito\n      selectedItems.forEach(item => {\n        removeFromCart(item.listingId);\n      });\n\n      alert('¡Oferta enviada exitosamente! El vendedor será notificado.');\n      setShowProposeModal(false);\n      setBuyerNotes('');\n      \n      // Redirigir al dashboard para ver la transacción\n      navigate('/dashboard?tab=transactions');\n\n    } catch (error) {\n      console.error('Error creating transaction:', error);\n      alert('Error al enviar la oferta. Inténtalo de nuevo.');\n    }\n    setLoading(false);\n  };\n\n  const openWhatsAppChat = (seller) => {\n    const items = seller.items;\n    const itemsList = items.map(item => \n      `• ${item.cardName} (${item.condition}) - ₡${item.price.toLocaleString()}`\n    ).join('\\\\n');\n    \n    const message = `¡Hola! Me interesa comprar estas cartas de TCG:\\\\n\\\\n${itemsList}\\\\n\\\\nTotal: ₡${items.reduce((sum, item) => sum + (item.price * item.quantity), 0).toLocaleString()}\\\\n\\\\n¿Podemos coordinar la compra?`;\n    \n    const phoneNumber = seller.sellerPhone?.replace(/[^\\\\d]/g, '');\n    if (phoneNumber) {\n      window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`);\n    } else {\n      alert('Número de WhatsApp no disponible');\n    }\n  };\n\n  if (!user) {\n    return (\n      <Container className=\"py-5\">\n        <Alert variant=\"info\" className=\"text-center\">\n          <FaShoppingCart className=\"me-2\" size={24} />\n          <h5>Inicia sesión para ver tu carrito</h5>\n        </Alert>\n      </Container>\n    );\n  }\n\n  if (totalItems === 0) {\n    return (\n      <Container className=\"py-5\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center\"\n        >\n          <Alert variant=\"info\">\n            <FaShoppingCart className=\"me-2\" size={24} />\n            <h5>Tu carrito está vacío</h5>\n            <p>¡Explora nuestro marketplace y encuentra las mejores cartas!</p>\n            <Button variant=\"primary\" onClick={() => navigate('/marketplace')}>\n              Ir al Marketplace\n            </Button>\n          </Alert>\n        </motion.div>\n      </Container>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      className=\"section\"\n    >\n      <Container>\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <h2 className=\"section-title\">🛒 Mi Carrito ({totalItems} productos)</h2>\n          <div className=\"d-flex gap-2\">\n            <Button \n              variant=\"outline-secondary\" \n              onClick={() => navigate('/marketplace')}\n            >\n              Seguir Comprando\n            </Button>\n            <Button \n              variant=\"outline-danger\"\n              onClick={() => {\n                if (window.confirm('¿Vaciar todo el carrito?')) {\n                  clearCart();\n                }\n              }}\n            >\n              <FaTrash className=\"me-2\" />\n              Vaciar Carrito\n            </Button>\n          </div>\n        </div>\n\n        <Row>\n          <Col lg={8}>\n            {/* Productos agrupados por vendedor */}\n            {sellerGroups.map((seller, index) => {\n              const sellerTotal = seller.items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n              \n              return (\n                <motion.div\n                  key={seller.sellerId}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"mb-4\"\n                >\n                  <Card className=\"seller-group-card shadow-sm\">\n                    <Card.Header className=\"seller-header\">\n                      <Row className=\"align-items-center\">\n                        <Col md={8}>\n                          <div className=\"d-flex align-items-center gap-3\">\n                            <div className=\"seller-avatar\">\n                              <FaUser size={24} />\n                            </div>\n                            <div>\n                              <h5 className=\"mb-1\">{seller.sellerName}</h5>\n                              <div className=\"d-flex align-items-center gap-2\">\n                                <div className=\"d-flex align-items-center\">\n                                  <FaStar className=\"text-warning me-1\" size={14} />\n                                  <span>{seller.sellerRating}</span>\n                                  <small className=\"text-muted ms-1\">({seller.sellerReviews} reseñas)</small>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </Col>\n                        <Col md={4} className=\"text-end\">\n                          <div className=\"fw-bold fs-5 text-success\">\n                            ₡{sellerTotal.toLocaleString()}\n                          </div>\n                          <small className=\"text-muted\">\n                            {seller.items.length} producto{seller.items.length > 1 ? 's' : ''}\n                          </small>\n                        </Col>\n                      </Row>\n                    </Card.Header>\n\n                    <Card.Body>\n                      {/* Lista de productos del vendedor */}\n                      {seller.items.map((item, itemIndex) => (\n                        <div key={`${item.listingId}-${itemIndex}`} className=\"cart-item mb-3 p-3 rounded\">\n                          <Row className=\"align-items-center\">\n                            <Col xs={3} md={2}>\n                              <Image\n                                src={item.cardImage || 'https://via.placeholder.com/100'}\n                                alt={item.cardName}\n                                className=\"w-100\"\n                                style={{ height: '100px', objectFit: 'contain' }}\n                              />\n                            </Col>\n                            <Col xs={6} md={7}>\n                              <h6 className=\"mb-1\">{item.cardName}</h6>\n                              <div className=\"d-flex flex-wrap gap-2 mb-2\">\n                                <Badge bg=\"secondary\">{item.tcgType?.toUpperCase()}</Badge>\n                                <Badge bg=\"info\">{item.condition}</Badge>\n                                <Badge bg=\"warning\" text=\"dark\">Cant: {item.quantity}</Badge>\n                              </div>\n                              {item.location && (\n                                <small className=\"text-muted\">\n                                  <FaMapMarkerAlt className=\"me-1\" />\n                                  {item.location}\n                                </small>\n                              )}\n                            </Col>\n                            <Col xs={3} md={3} className=\"text-end\">\n                              <div className=\"fw-bold text-success\">\n                                ₡{(item.price * item.quantity).toLocaleString()}\n                              </div>\n                              <small className=\"text-muted\">\n                                ₡{item.price.toLocaleString()} c/u\n                              </small>\n                              <div className=\"mt-2\">\n                                <Button\n                                  variant=\"outline-danger\"\n                                  size=\"sm\"\n                                  onClick={() => removeFromCart(item.listingId)}\n                                >\n                                  <FaTrash size={12} />\n                                </Button>\n                              </div>\n                            </Col>\n                          </Row>\n                        </div>\n                      ))}\n\n                      {/* Botones de acción del vendedor */}\n                      <div className=\"d-flex gap-2 mt-3\">\n                        <Button\n                          variant=\"primary\"\n                          onClick={() => handleProposeDeal(seller)}\n                          className=\"flex-fill\"\n                        >\n                          <FaHandshake className=\"me-2\" />\n                          Proponer Trato\n                        </Button>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => openWhatsAppChat(seller)}\n                        >\n                          <FaWhatsapp className=\"me-2\" />\n                          WhatsApp\n                        </Button>\n                      </div>\n                    </Card.Body>\n                  </Card>\n                </motion.div>\n              );\n            })}\n          </Col>\n\n          <Col lg={4}>\n            {/* Resumen del carrito */}\n            <Card className=\"cart-summary-card sticky-top shadow-sm\">\n              <Card.Header>\n                <h5 className=\"mb-0\">📊 Resumen de Compra</h5>\n              </Card.Header>\n              <Card.Body>\n                <div className=\"summary-item d-flex justify-content-between mb-2\">\n                  <span>Productos:</span>\n                  <span>{totalItems}</span>\n                </div>\n                <div className=\"summary-item d-flex justify-content-between mb-2\">\n                  <span>Vendedores:</span>\n                  <span>{sellerGroups.length}</span>\n                </div>\n                <hr />\n                <div className=\"summary-total d-flex justify-content-between\">\n                  <span className=\"fw-bold fs-5\">Total:</span>\n                  <span className=\"fw-bold fs-4 text-success\">₡{totalPrice.toLocaleString()}</span>\n                </div>\n\n                {/* Botón P2P Checkout */}\n                <div className=\"d-grid gap-2 mt-3\">\n                  <Button\n                    variant=\"success\"\n                    size=\"lg\"\n                    onClick={() => setShowP2PCheckout(true)}\n                    disabled={!user || cart.length === 0}\n                  >\n                    <FaCreditCard className=\"me-2\" />\n                    Checkout P2P\n                  </Button>\n                  {!user && (\n                    <small className=\"text-muted text-center\">\n                      Inicia sesión para usar el checkout P2P\n                    </small>\n                  )}\n                </div>\n\n                <Alert variant=\"info\" className=\"mt-3 small\">\n                  <FaComments className=\"me-2\" />\n                  El checkout P2P maneja automáticamente múltiples vendedores y \n                  coordina todo el proceso de compra.\n                </Alert>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n\n        {/* Modal para proponer trato */}\n        <Modal \n          show={showProposeModal} \n          onHide={() => setShowProposeModal(false)}\n          size=\"lg\"\n          centered\n          className=\"glassmorphism-modal\"\n        >\n          <Modal.Header closeButton className=\"glassmorphism-header\">\n            <Modal.Title>\n              <FaHandshake className=\"me-2\" />\n              Proponer Trato a {selectedSeller?.sellerName}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"glassmorphism-body\">\n            {selectedItems.length > 0 && (\n              <>\n                <h6>Productos seleccionados:</h6>\n                <div className=\"selected-items mb-3\">\n                  {selectedItems.map((item, index) => (\n                    <div key={index} className=\"d-flex align-items-center mb-2 p-2 rounded bg-light\">\n                      <Image\n                        src={item.cardImage}\n                        alt={item.cardName}\n                        style={{ width: '40px', height: '56px', objectFit: 'contain' }}\n                        className=\"me-2\"\n                      />\n                      <div className=\"flex-grow-1\">\n                        <div className=\"fw-bold small\">{item.cardName}</div>\n                        <small className=\"text-muted\">{item.condition} • Cant: {item.quantity}</small>\n                      </div>\n                      <div className=\"fw-bold text-success\">\n                        ₡{(item.price * item.quantity).toLocaleString()}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"total-proposal p-3 rounded bg-primary text-white mb-3\">\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <span className=\"fw-bold\">Total de la oferta:</span>\n                    <span className=\"fw-bold fs-4\">\n                      ₡{selectedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0).toLocaleString()}\n                    </span>\n                  </div>\n                </div>\n\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Mensaje adicional (opcional):</Form.Label>\n                  <Form.Control\n                    as=\"textarea\"\n                    rows={3}\n                    placeholder=\"Agrega cualquier comentario o pregunta para el vendedor...\"\n                    value={buyerNotes}\n                    onChange={(e) => setBuyerNotes(e.target.value)}\n                  />\n                </Form.Group>\n\n                <Alert variant=\"info\">\n                  <FaComments className=\"me-2\" />\n                  Al enviar esta oferta, se notificará al vendedor y podrás hacer seguimiento desde tu dashboard.\n                </Alert>\n              </>\n            )}\n          </Modal.Body>\n          <Modal.Footer className=\"glassmorphism-body\">\n            <Button variant=\"secondary\" onClick={() => setShowProposeModal(false)}>\n              Cancelar\n            </Button>\n            <Button \n              variant=\"primary\" \n              onClick={handleSubmitProposal}\n              disabled={loading}\n            >\n              {loading ? 'Enviando...' : 'Enviar Oferta'}\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n        {/* Modal P2P Checkout */}\n        <P2PCheckout\n          show={showP2PCheckout}\n          onHide={() => setShowP2PCheckout(false)}\n          onTransactionCreated={(results) => {\n            console.log('Transacciones P2P creadas:', results);\n            setShowP2PCheckout(false);\n            // Navegar al dashboard para ver las transacciones\n            navigate('/dashboard');\n          }}\n        />\n      </Container>\n    </motion.div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}