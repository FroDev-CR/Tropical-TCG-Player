{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useAuthActions.js\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth } from '../firebase';\nexport const useAuthActions = () => {\n  _s();\n  const [user] = useAuthState(auth);\n  const requireAuth = (action, options = {}) => {\n    const {\n      message = 'Debes iniciar sesión para realizar esta acción',\n      onLogin = null\n    } = options;\n    if (!user) {\n      if (window.confirm(`${message}\\n\\n¿Deseas iniciar sesión ahora?`)) {\n        if (onLogin) {\n          onLogin();\n        } else {\n          // Buscar y disparar el modal de auth\n          const authButton = document.querySelector('[data-auth-trigger]');\n          if (authButton) {\n            authButton.click();\n          } else {\n            // Fallback: recargar página o redirigir\n            alert('Por favor, inicia sesión desde la barra de navegación');\n          }\n        }\n      }\n      return false;\n    }\n\n    // Usuario autenticado, ejecutar acción\n    action();\n    return true;\n  };\n  const protectedAction = (action, authMessage) => {\n    return () => requireAuth(action, {\n      message: authMessage\n    });\n  };\n  return {\n    user,\n    isAuthenticated: !!user,\n    requireAuth,\n    protectedAction\n  };\n};\n_s(useAuthActions, \"hP/7NvzUIXfxIpRVjMlmHSnysKo=\", false, function () {\n  return [useAuthState];\n});","map":{"version":3,"names":["useAuthState","auth","useAuthActions","_s","user","requireAuth","action","options","message","onLogin","window","confirm","authButton","document","querySelector","click","alert","protectedAction","authMessage","isAuthenticated"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/hooks/useAuthActions.js"],"sourcesContent":["// src/hooks/useAuthActions.js\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { auth } from '../firebase';\n\nexport const useAuthActions = () => {\n  const [user] = useAuthState(auth);\n\n  const requireAuth = (action, options = {}) => {\n    const { \n      message = 'Debes iniciar sesión para realizar esta acción',\n      onLogin = null \n    } = options;\n\n    if (!user) {\n      if (window.confirm(`${message}\\n\\n¿Deseas iniciar sesión ahora?`)) {\n        if (onLogin) {\n          onLogin();\n        } else {\n          // Buscar y disparar el modal de auth\n          const authButton = document.querySelector('[data-auth-trigger]');\n          if (authButton) {\n            authButton.click();\n          } else {\n            // Fallback: recargar página o redirigir\n            alert('Por favor, inicia sesión desde la barra de navegación');\n          }\n        }\n      }\n      return false;\n    }\n    \n    // Usuario autenticado, ejecutar acción\n    action();\n    return true;\n  };\n\n  const protectedAction = (action, authMessage) => {\n    return () => requireAuth(action, { message: authMessage });\n  };\n\n  return {\n    user,\n    isAuthenticated: !!user,\n    requireAuth,\n    protectedAction\n  };\n};"],"mappings":";AAAA;AACA,SAASA,YAAY,QAAQ,2BAA2B;AACxD,SAASC,IAAI,QAAQ,aAAa;AAElC,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,IAAI,CAAC,GAAGJ,YAAY,CAACC,IAAI,CAAC;EAEjC,MAAMI,WAAW,GAAGA,CAACC,MAAM,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC5C,MAAM;MACJC,OAAO,GAAG,gDAAgD;MAC1DC,OAAO,GAAG;IACZ,CAAC,GAAGF,OAAO;IAEX,IAAI,CAACH,IAAI,EAAE;MACT,IAAIM,MAAM,CAACC,OAAO,CAAC,GAAGH,OAAO,mCAAmC,CAAC,EAAE;QACjE,IAAIC,OAAO,EAAE;UACXA,OAAO,CAAC,CAAC;QACX,CAAC,MAAM;UACL;UACA,MAAMG,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;UAChE,IAAIF,UAAU,EAAE;YACdA,UAAU,CAACG,KAAK,CAAC,CAAC;UACpB,CAAC,MAAM;YACL;YACAC,KAAK,CAAC,uDAAuD,CAAC;UAChE;QACF;MACF;MACA,OAAO,KAAK;IACd;;IAEA;IACAV,MAAM,CAAC,CAAC;IACR,OAAO,IAAI;EACb,CAAC;EAED,MAAMW,eAAe,GAAGA,CAACX,MAAM,EAAEY,WAAW,KAAK;IAC/C,OAAO,MAAMb,WAAW,CAACC,MAAM,EAAE;MAAEE,OAAO,EAAEU;IAAY,CAAC,CAAC;EAC5D,CAAC;EAED,OAAO;IACLd,IAAI;IACJe,eAAe,EAAE,CAAC,CAACf,IAAI;IACvBC,WAAW;IACXY;EACF,CAAC;AACH,CAAC;AAACd,EAAA,CA1CWD,cAAc;EAAA,QACVF,YAAY;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}