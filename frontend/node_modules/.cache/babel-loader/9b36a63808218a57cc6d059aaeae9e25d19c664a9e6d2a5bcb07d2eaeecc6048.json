{"ast":null,"code":"var _jsxFileName = \"/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/Profile.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Card, Spinner, Row, Col, Nav, Badge, Modal, Image } from 'react-bootstrap';\nimport { db, storage } from '../firebase';\nimport { doc, updateDoc, getDoc, collection, query, where, getDocs, orderBy } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { motion } from 'framer-motion';\nimport { FaWhatsapp, FaStar, FaEdit, FaSave, FaTimes, FaEye, FaCheckCircle, FaClock, FaShoppingCart, FaStore, FaUser, FaChartLine, FaCamera, FaUpload } from 'react-icons/fa';\nimport { useCart } from '../contexts/CartContext';\nimport RatingSystem from '../components/RatingSystem';\nimport DashboardContent from '../components/DashboardContent';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst provinces = ['San José', 'Alajuela', 'Cartago', 'Heredia', 'Guanacaste', 'Puntarenas', 'Limón'];\nconst StatusBadge = ({\n  status\n}) => {\n  const statusConfig = {\n    initiated: {\n      variant: 'warning',\n      label: 'Iniciada',\n      icon: FaClock\n    },\n    contacted: {\n      variant: 'info',\n      label: 'Contactado',\n      icon: FaEye\n    },\n    completed: {\n      variant: 'success',\n      label: 'Completada',\n      icon: FaCheckCircle\n    },\n    rated: {\n      variant: 'primary',\n      label: 'Calificada',\n      icon: FaStar\n    }\n  };\n  const config = statusConfig[status] || statusConfig.initiated;\n  const IconComponent = config.icon;\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: config.variant,\n    className: \"d-flex align-items-center gap-1\",\n    children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n      size: 12\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), config.label]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_c = StatusBadge;\nconst TransactionCard = ({\n  transaction,\n  type,\n  onRateUser,\n  onUpdateStatus\n}) => {\n  _s();\n  var _transaction$items$, _transaction$items$2;\n  const [showDetails, setShowDetails] = useState(false);\n  const isCompletedAndCanRate = transaction.status === 'completed' && type === 'purchases';\n  const canMarkAsCompleted = transaction.status === 'contacted' && type === 'sales';\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted small\",\n                children: [\"ID: #\", transaction.id.slice(-6)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted small\",\n                children: new Date(transaction.createdAt.toDate()).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: type === 'purchases' ? 'Vendedor:' : 'Comprador:'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: type === 'purchases' ? ((_transaction$items$ = transaction.items[0]) === null || _transaction$items$ === void 0 ? void 0 : _transaction$items$.sellerName) || 'Desconocido' : transaction.buyerName || 'Desconocido'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"\\u20A1$\", transaction.totalAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted small\",\n                children: [transaction.items.length, \" carta\", transaction.items.length > 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: transaction.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2 justify-content-end\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                size: \"sm\",\n                onClick: () => setShowDetails(true),\n                children: [/*#__PURE__*/_jsxDEV(FaEye, {\n                  className: \"me-1\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this), \"Ver detalles\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), isCompletedAndCanRate && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"warning\",\n                size: \"sm\",\n                onClick: () => onRateUser(transaction),\n                children: [/*#__PURE__*/_jsxDEV(FaStar, {\n                  className: \"me-1\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), \"Calificar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this), canMarkAsCompleted && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                size: \"sm\",\n                onClick: () => onUpdateStatus(transaction.id, 'completed'),\n                children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n                  className: \"me-1\",\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), \"Marcar completada\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDetails,\n      onHide: () => setShowDetails(false),\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"Detalles de Transacci\\xF3n #\", transaction.id.slice(-6)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fecha:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), \" \", new Date(transaction.createdAt.toDate()).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Estado:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(StatusBadge, {\n              status: transaction.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: type === 'purchases' ? 'Vendedor:' : 'Comprador:'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), type === 'purchases' ? ((_transaction$items$2 = transaction.items[0]) === null || _transaction$items$2 === void 0 ? void 0 : _transaction$items$2.sellerName) || 'Desconocido' : transaction.buyerName || 'Desconocido']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), \" \\u20A1$\", transaction.totalAmount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Cartas:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-2\",\n          children: transaction.items.map((item, index) => /*#__PURE__*/_jsxDEV(Col, {\n            sm: 6,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"h-100\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"g-0\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  xs: 4,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.cardImage || 'https://via.placeholder.com/100',\n                    alt: item.cardName,\n                    className: \"img-fluid rounded-start\",\n                    style: {\n                      height: '80px',\n                      objectFit: 'contain'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  xs: 8,\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    className: \"p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      className: \"fs-6 mb-1\",\n                      children: item.cardName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"small text-muted\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"\\u20A1$\", item.price, \" \\xB7 \", item.condition]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Cantidad: \", item.quantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), transaction.status === 'initiated' && type === 'purchases' && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"info\",\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pr\\xF3ximos pasos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), \" Los enlaces de WhatsApp se abrieron autom\\xE1ticamente para contactar a los vendedores. Una vez que confirmes la compra, el vendedor marcar\\xE1 la transacci\\xF3n como completada.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setShowDetails(false),\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(TransactionCard, \"n2rC7YX8Mzz154E9USQBvseY7a0=\");\n_c2 = TransactionCard;\nconst StarDisplay = ({\n  rating\n}) => {\n  const fullStars = Math.round(rating);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center mb-2\",\n    children: Array.from({\n      length: 5\n    }, (_, index) => /*#__PURE__*/_jsxDEV(FaStar, {\n      size: 22,\n      style: {\n        marginRight: '4px'\n      },\n      color: index < fullStars ? '#FFD700' : '#ddd'\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n_c3 = StarDisplay;\nexport default function Profile() {\n  _s2();\n  var _userData$verificatio, _userData$verificatio2, _userData$verificatio3, _userData$accountStat, _userData$accountStat2, _userData$accountStat3, _userData$accountStat4, _userData$rating, _userData$listings, _userData$binders, _userData$cart;\n  const {\n    user,\n    userData,\n    loading,\n    syncUserData,\n    updateTransactionStatus\n  } = useCart();\n  const [formData, setFormData] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [activeTab, setActiveTab] = useState('profile');\n  const [transactions, setTransactions] = useState({\n    purchases: [],\n    sales: []\n  });\n  const [transactionType, setTransactionType] = useState('purchases');\n  const [loadingTransactions, setLoadingTransactions] = useState(true);\n  const [ratingModal, setRatingModal] = useState({\n    show: false,\n    transaction: null,\n    userRole: null\n  });\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  useEffect(() => {\n    if (userData) {\n      setFormData(userData);\n    }\n  }, [userData]);\n  useEffect(() => {\n    if (user && activeTab === 'transactions') {\n      fetchTransactions();\n    }\n  }, [user, activeTab]);\n  const fetchTransactions = async () => {\n    setLoadingTransactions(true);\n    try {\n      // Obtener compras (donde el usuario es comprador)\n      const purchasesQuery = query(collection(db, 'transactions'), where('buyerId', '==', user.uid), orderBy('createdAt', 'desc'));\n      const purchasesSnap = await getDocs(purchasesQuery);\n      const purchases = purchasesSnap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n\n      // Obtener ventas (donde el usuario es vendedor en algún item)\n      const allTransactionsQuery = query(collection(db, 'transactions'), orderBy('createdAt', 'desc'));\n      const allTransactionsSnap = await getDocs(allTransactionsQuery);\n      const sales = [];\n      allTransactionsSnap.forEach(doc => {\n        var _transaction$items;\n        const transaction = doc.data();\n        const hasUserItems = (_transaction$items = transaction.items) === null || _transaction$items === void 0 ? void 0 : _transaction$items.some(item => item.sellerId === user.uid);\n        if (hasUserItems && transaction.buyerId !== user.uid) {\n          sales.push({\n            id: doc.id,\n            ...transaction\n          });\n        }\n      });\n      setTransactions({\n        purchases,\n        sales\n      });\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    }\n    setLoadingTransactions(false);\n  };\n  const handleRateUser = transaction => {\n    setRatingModal({\n      show: true,\n      transaction: transaction,\n      userRole: 'buyer' // El usuario que está calificando es el comprador en Profile.js\n    });\n  };\n  const handleUpdateStatus = async (transactionId, newStatus) => {\n    try {\n      await updateTransactionStatus(transactionId, newStatus);\n      await fetchTransactions(); // Refrescar la lista\n      alert('Estado de transacción actualizado correctamente');\n    } catch (error) {\n      console.error('Error updating transaction status:', error);\n      alert('Error al actualizar el estado de la transacción');\n    }\n  };\n  const handlePhotoSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      // Validar tipo de archivo\n      if (!file.type.startsWith('image/')) {\n        alert('Por favor selecciona un archivo de imagen válido');\n        return;\n      }\n\n      // Validar tamaño (5MB máximo)\n      if (file.size > 5 * 1024 * 1024) {\n        alert('La imagen debe ser menor a 5MB');\n        return;\n      }\n      setSelectedPhoto(file);\n\n      // Crear preview\n      const reader = new FileReader();\n      reader.onload = e => setPhotoPreview(e.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n  const uploadPhoto = async () => {\n    if (!selectedPhoto || !user) return null;\n    setUploadingPhoto(true);\n    try {\n      // Crear referencia única para la foto\n      const photoRef = ref(storage, `profile-photos/${user.uid}/${Date.now()}-${selectedPhoto.name}`);\n\n      // Subir archivo\n      const snapshot = await uploadBytes(photoRef, selectedPhoto);\n      const downloadURL = await getDownloadURL(snapshot.ref);\n\n      // Si había una foto anterior, eliminarla\n      if (formData.profilePhoto) {\n        try {\n          const oldPhotoRef = ref(storage, formData.profilePhoto);\n          await deleteObject(oldPhotoRef);\n        } catch (error) {\n          console.log('No se pudo eliminar la foto anterior:', error);\n        }\n      }\n      return downloadURL;\n    } catch (error) {\n      console.error('Error subiendo foto:', error);\n      throw error;\n    } finally {\n      setUploadingPhoto(false);\n    }\n  };\n  const handleUpdate = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setSaving(true);\n    try {\n      if (user) {\n        let updatedData = {\n          ...formData,\n          updatedAt: new Date()\n        };\n\n        // Si hay una nueva foto seleccionada, subirla\n        if (selectedPhoto) {\n          try {\n            const photoURL = await uploadPhoto();\n            if (photoURL) {\n              updatedData.profilePhoto = photoURL;\n            }\n          } catch (photoError) {\n            console.error('Error subiendo foto:', photoError);\n            setError('Error subiendo la foto de perfil');\n            setSaving(false);\n            return;\n          }\n        }\n        await updateDoc(doc(db, 'users', user.uid), updatedData);\n\n        // Sincronizar datos del usuario\n        await syncUserData();\n\n        // Limpiar estados de foto\n        setSelectedPhoto(null);\n        setPhotoPreview(null);\n        setEditMode(false);\n        setSuccess('Perfil actualizado correctamente');\n        setTimeout(() => setSuccess(''), 3000);\n      }\n    } catch (err) {\n      console.error('Error actualizando perfil:', err);\n      setError('Error al actualizar perfil');\n    } finally {\n      setSaving(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Debes iniciar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"Inicia sesi\\xF3n para ver tu perfil y gestionar tus datos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      duration: 0.5\n    },\n    className: \"section\",\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title text-center mb-4\",\n        children: \"Mi Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        variant: \"pills\",\n        className: \"justify-content-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            active: activeTab === 'profile',\n            onClick: () => setActiveTab('profile'),\n            className: \"d-flex align-items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FaUser, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), \"Informaci\\xF3n Personal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            active: activeTab === 'transactions',\n            onClick: () => setActiveTab('transactions'),\n            className: \"d-flex align-items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), \"Mis Transacciones\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            active: activeTab === 'dashboard',\n            onClick: () => setActiveTab('dashboard'),\n            className: \"d-flex align-items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FaChartLine, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), \"Dashboard\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), activeTab === 'profile' && userData && /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          lg: 8,\n          className: \"mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Informaci\\xF3n Personal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => setEditMode(!editMode),\n                  variant: editMode ? \"outline-secondary\" : \"outline-primary\",\n                  className: \"d-flex align-items-center gap-2\",\n                  children: editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 27\n                    }, this), \"Cancelar\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 27\n                    }, this), \"Editar\"]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 29\n              }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n                variant: \"success\",\n                children: success\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 31\n              }, this), !editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-info\",\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  className: \"align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"profile-photo mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(Image, {\n                        src: userData.profilePhoto || 'https://via.placeholder.com/150x150?text=Sin+Foto',\n                        alt: \"Foto de perfil\",\n                        roundedCircle: true,\n                        style: {\n                          width: '150px',\n                          height: '150px',\n                          objectFit: 'cover',\n                          border: '3px solid #dee2e6'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"verification-badges\",\n                      children: [((_userData$verificatio = userData.verification) === null || _userData$verificatio === void 0 ? void 0 : _userData$verificatio.email) && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        className: \"me-1 mb-1\",\n                        children: \"\\u2705 Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 31\n                      }, this), ((_userData$verificatio2 = userData.verification) === null || _userData$verificatio2 === void 0 ? void 0 : _userData$verificatio2.phone) && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        className: \"me-1 mb-1\",\n                        children: \"\\u2705 Tel\\xE9fono\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 493,\n                        columnNumber: 31\n                      }, this), ((_userData$verificatio3 = userData.verification) === null || _userData$verificatio3 === void 0 ? void 0 : _userData$verificatio3.identity) && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        className: \"me-1 mb-1\",\n                        children: \"\\u2705 C\\xE9dula\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 5,\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"mb-3\",\n                      children: userData.fullName || userData.username || 'Usuario sin nombre'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Usuario:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 29\n                      }, this), \" @\", userData.username || 'sin-usuario']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Email:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 29\n                      }, this), \" \", user.email]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 27\n                    }, this), userData.cedula && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"C\\xE9dula:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 31\n                      }, this), \" \", userData.cedula]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Tel\\xE9fono:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 514,\n                        columnNumber: 29\n                      }, this), \" \", userData.phone || 'No registrado']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 513,\n                      columnNumber: 27\n                    }, this), userData.whatsapp && userData.whatsapp !== userData.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"WhatsApp:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 31\n                      }, this), \" \", userData.whatsapp]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Ubicaci\\xF3n:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 29\n                      }, this), \" \", userData.province || 'No especificada']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Miembro desde:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 29\n                      }, this), \" \", userData.createdAt ? new Date(userData.createdAt.toDate()).toLocaleDateString() : 'Reciente']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Nivel de confianza:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 528,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: ((_userData$accountStat = userData.accountStatus) === null || _userData$accountStat === void 0 ? void 0 : _userData$accountStat.trustLevel) === 'premium' ? 'warning' : ((_userData$accountStat2 = userData.accountStatus) === null || _userData$accountStat2 === void 0 ? void 0 : _userData$accountStat2.trustLevel) === 'trusted' ? 'success' : ((_userData$accountStat3 = userData.accountStatus) === null || _userData$accountStat3 === void 0 ? void 0 : _userData$accountStat3.trustLevel) === 'verified' ? 'info' : 'secondary',\n                        className: \"ms-2\",\n                        children: ((_userData$accountStat4 = userData.accountStatus) === null || _userData$accountStat4 === void 0 ? void 0 : _userData$accountStat4.trustLevel) || 'Nuevo'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 529,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Calificaci\\xF3n:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 543,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 542,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(StarDisplay, {\n                      rating: userData.rating || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-muted small\",\n                      children: [\"(\", ((_userData$rating = userData.rating) === null || _userData$rating === void 0 ? void 0 : _userData$rating.toFixed(1)) || '0.0', \" de 5, \", userData.reviews || 0, \" reviews)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 27\n                    }, this), (userData.whatsapp || userData.phone) && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      href: `https://wa.me/506${(userData.whatsapp || userData.phone).replace(/[^0-9]/g, '')}`,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"mt-3 d-flex align-items-center gap-2 mx-auto\",\n                      children: [/*#__PURE__*/_jsxDEV(FaWhatsapp, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 558,\n                        columnNumber: 31\n                      }, this), \"Contactar por WhatsApp\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 551,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"mt-4 pt-4 border-top\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-primary\",\n                      children: ((_userData$listings = userData.listings) === null || _userData$listings === void 0 ? void 0 : _userData$listings.length) || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Cartas en venta\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-success\",\n                      children: ((_userData$binders = userData.binders) === null || _userData$binders === void 0 ? void 0 : _userData$binders.length) || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 572,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Binders creados\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-info\",\n                      children: ((_userData$cart = userData.cart) === null || _userData$cart === void 0 ? void 0 : _userData$cart.length) || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"En carrito\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 577,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: handleUpdate,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Foto de perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"profile-photo-upload\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"current-photo mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(Image, {\n                        src: photoPreview || formData.profilePhoto || 'https://via.placeholder.com/150x150?text=Sin+Foto',\n                        alt: \"Foto de perfil\",\n                        roundedCircle: true,\n                        style: {\n                          width: '150px',\n                          height: '150px',\n                          objectFit: 'cover',\n                          border: '3px solid #dee2e6'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 588,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"photo-upload-controls d-flex gap-2 justify-content-center\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"file\",\n                        accept: \"image/*\",\n                        onChange: handlePhotoSelect,\n                        style: {\n                          display: 'none'\n                        },\n                        id: \"photo-upload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 596,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-primary\",\n                        onClick: () => document.getElementById('photo-upload').click(),\n                        disabled: uploadingPhoto,\n                        children: [/*#__PURE__*/_jsxDEV(FaCamera, {\n                          className: \"me-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 608,\n                          columnNumber: 31\n                        }, this), selectedPhoto ? 'Cambiar Foto' : 'Subir Foto']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 603,\n                        columnNumber: 29\n                      }, this), selectedPhoto && /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-secondary\",\n                        onClick: () => {\n                          setSelectedPhoto(null);\n                          setPhotoPreview(null);\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                          className: \"me-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 619,\n                          columnNumber: 33\n                        }, this), \"Cancelar\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 612,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 595,\n                      columnNumber: 27\n                    }, this), uploadingPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                        size: \"sm\",\n                        animation: \"border\",\n                        className: \"me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 626,\n                        columnNumber: 31\n                      }, this), \"Subiendo foto...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                      className: \"text-muted d-block mt-2\",\n                      children: \"Formatos: JPG, PNG, GIF. M\\xE1ximo 5MB.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 630,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Nombre de usuario\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 640,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        value: formData.username || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          username: e.target.value\n                        }),\n                        placeholder: \"Tu nombre de usuario\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 641,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 639,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 638,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Nombre completo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        value: formData.fullName || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          fullName: e.target.value\n                        }),\n                        placeholder: \"Tu nombre completo seg\\xFAn c\\xE9dula\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 651,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 649,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 648,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"C\\xE9dula de identidad *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 664,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        value: formData.cedula || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          cedula: e.target.value\n                        }),\n                        placeholder: \"Ej: 1-1234-5678\",\n                        maxLength: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 665,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                        className: \"text-muted\",\n                        children: \"Requerido para verificaci\\xF3n de identidad\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 671,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 663,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 662,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Fecha de nacimiento\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 678,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"date\",\n                        value: formData.birthDate || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          birthDate: e.target.value\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 679,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 677,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"Tel\\xE9fono\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 692,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"tel\",\n                        value: formData.phone || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          phone: e.target.value\n                        }),\n                        placeholder: \"Ej: 8888-8888\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 693,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 691,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                        children: \"WhatsApp\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 703,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"tel\",\n                        value: formData.whatsapp || '',\n                        onChange: e => setFormData({\n                          ...formData,\n                          whatsapp: e.target.value\n                        }),\n                        placeholder: \"N\\xFAmero de WhatsApp (si es diferente)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 704,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 702,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 701,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Provincia\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    value: formData.province || '',\n                    onChange: e => setFormData({\n                      ...formData,\n                      province: e.target.value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Selecciona una provincia\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 719,\n                      columnNumber: 27\n                    }, this), provinces.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: p,\n                      children: p\n                    }, p, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 721,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 713,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2 justify-content-end\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"primary\",\n                    disabled: saving,\n                    className: \"d-flex align-items-center gap-2\",\n                    children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                        size: \"sm\",\n                        animation: \"border\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 734,\n                        columnNumber: 31\n                      }, this), \"Guardando...\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(FaSave, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 739,\n                        columnNumber: 31\n                      }, this), \"Guardar Cambios\"]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 725,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this), activeTab === 'transactions' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          variant: \"pills\",\n          className: \"justify-content-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              active: transactionType === 'purchases',\n              onClick: () => setTransactionType('purchases'),\n              className: \"d-flex align-items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 19\n              }, this), \"Compras (\", transactions.purchases.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              active: transactionType === 'sales',\n              onClick: () => setTransactionType('sales'),\n              className: \"d-flex align-items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FaStore, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 19\n              }, this), \"Ventas (\", transactions.sales.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 13\n        }, this), loadingTransactions ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            role: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3 text-muted\",\n            children: \"Cargando transacciones...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 15\n        }, this) : (() => {\n          const currentTransactions = transactions[transactionType] || [];\n          return currentTransactions.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [\"No hay \", transactionType === 'purchases' ? 'compras' : 'ventas', \" registradas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: transactionType === 'purchases' ? 'Cuando realices compras, aparecerán aquí.' : 'Cuando realices ventas, aparecerán aquí.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: currentTransactions.map(transaction => /*#__PURE__*/_jsxDEV(TransactionCard, {\n              transaction: transaction,\n              type: transactionType,\n              onRateUser: handleRateUser,\n              onUpdateStatus: handleUpdateStatus\n            }, transaction.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 17\n          }, this);\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 11\n      }, this), activeTab === 'dashboard' && /*#__PURE__*/_jsxDEV(DashboardContent, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), ratingModal.show && ratingModal.transaction && /*#__PURE__*/_jsxDEV(RatingSystem, {\n      show: ratingModal.show,\n      onHide: () => setRatingModal({\n        show: false,\n        transaction: null,\n        userRole: null\n      }),\n      transaction: ratingModal.transaction,\n      userRole: ratingModal.userRole,\n      onRatingSubmitted: ratingData => {\n        console.log('Rating submitted:', ratingData);\n        setRatingModal({\n          show: false,\n          transaction: null,\n          userRole: null\n        });\n        // Opcionalmente refrescar transacciones\n        fetchTransactions();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n}\n_s2(Profile, \"q2hB7MVx1f7AKZ5dMkb8s4oZwnA=\", false, function () {\n  return [useCart];\n});\n_c4 = Profile;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"StatusBadge\");\n$RefreshReg$(_c2, \"TransactionCard\");\n$RefreshReg$(_c3, \"StarDisplay\");\n$RefreshReg$(_c4, \"Profile\");","map":{"version":3,"names":["useState","useEffect","Container","Form","Button","Alert","Card","Spinner","Row","Col","Nav","Badge","Modal","Image","db","storage","doc","updateDoc","getDoc","collection","query","where","getDocs","orderBy","ref","uploadBytes","getDownloadURL","deleteObject","motion","FaWhatsapp","FaStar","FaEdit","FaSave","FaTimes","FaEye","FaCheckCircle","FaClock","FaShoppingCart","FaStore","FaUser","FaChartLine","FaCamera","FaUpload","useCart","RatingSystem","DashboardContent","jsxDEV","_jsxDEV","Fragment","_Fragment","provinces","StatusBadge","status","statusConfig","initiated","variant","label","icon","contacted","completed","rated","config","IconComponent","bg","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","TransactionCard","transaction","type","onRateUser","onUpdateStatus","_s","_transaction$items$","_transaction$items$2","showDetails","setShowDetails","isCompletedAndCanRate","canMarkAsCompleted","Body","md","id","slice","Date","createdAt","toDate","toLocaleDateString","items","sellerName","buyerName","totalAmount","toFixed","length","onClick","show","onHide","Header","closeButton","Title","toLocaleString","map","item","index","sm","xs","src","cardImage","alt","cardName","style","height","objectFit","price","condition","quantity","Footer","_c2","StarDisplay","rating","fullStars","Math","round","Array","from","_","marginRight","color","_c3","Profile","_s2","_userData$verificatio","_userData$verificatio2","_userData$verificatio3","_userData$accountStat","_userData$accountStat2","_userData$accountStat3","_userData$accountStat4","_userData$rating","_userData$listings","_userData$binders","_userData$cart","user","userData","loading","syncUserData","updateTransactionStatus","formData","setFormData","editMode","setEditMode","error","setError","success","setSuccess","saving","setSaving","activeTab","setActiveTab","transactions","setTransactions","purchases","sales","transactionType","setTransactionType","loadingTransactions","setLoadingTransactions","ratingModal","setRatingModal","userRole","uploadingPhoto","setUploadingPhoto","selectedPhoto","setSelectedPhoto","photoPreview","setPhotoPreview","fetchTransactions","purchasesQuery","uid","purchasesSnap","docs","data","allTransactionsQuery","allTransactionsSnap","forEach","_transaction$items","hasUserItems","some","sellerId","buyerId","push","console","handleRateUser","handleUpdateStatus","transactionId","newStatus","alert","handlePhotoSelect","event","file","target","files","startsWith","reader","FileReader","onload","e","result","readAsDataURL","uploadPhoto","photoRef","now","name","snapshot","downloadURL","profilePhoto","oldPhotoRef","log","handleUpdate","preventDefault","updatedData","updatedAt","photoURL","photoError","setTimeout","err","animation","role","div","initial","opacity","animate","transition","duration","Item","Link","active","lg","roundedCircle","width","border","verification","email","phone","identity","fullName","username","cedula","whatsapp","province","accountStatus","trustLevel","reviews","href","replace","rel","listings","binders","cart","onSubmit","Group","Label","Control","accept","onChange","display","document","getElementById","click","disabled","Text","value","placeholder","maxLength","birthDate","Select","p","currentTransactions","onRatingSubmitted","ratingData","_c4","$RefreshReg$"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/Profile.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Card, Spinner, Row, Col, Nav, Badge, Modal, Image } from 'react-bootstrap';\nimport { db, storage } from '../firebase';\nimport { doc, updateDoc, getDoc, collection, query, where, getDocs, orderBy } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { motion } from 'framer-motion';\nimport { FaWhatsapp, FaStar, FaEdit, FaSave, FaTimes, FaEye, FaCheckCircle, FaClock, FaShoppingCart, FaStore, FaUser, FaChartLine, FaCamera, FaUpload } from 'react-icons/fa';\nimport { useCart } from '../contexts/CartContext';\nimport RatingSystem from '../components/RatingSystem';\nimport DashboardContent from '../components/DashboardContent';\n\nconst provinces = ['San José', 'Alajuela', 'Cartago', 'Heredia', 'Guanacaste', 'Puntarenas', 'Limón'];\n\nconst StatusBadge = ({ status }) => {\n  const statusConfig = {\n    initiated: { variant: 'warning', label: 'Iniciada', icon: FaClock },\n    contacted: { variant: 'info', label: 'Contactado', icon: FaEye },\n    completed: { variant: 'success', label: 'Completada', icon: FaCheckCircle },\n    rated: { variant: 'primary', label: 'Calificada', icon: FaStar }\n  };\n\n  const config = statusConfig[status] || statusConfig.initiated;\n  const IconComponent = config.icon;\n\n  return (\n    <Badge bg={config.variant} className=\"d-flex align-items-center gap-1\">\n      <IconComponent size={12} />\n      {config.label}\n    </Badge>\n  );\n};\n\nconst TransactionCard = ({ transaction, type, onRateUser, onUpdateStatus }) => {\n  const [showDetails, setShowDetails] = useState(false);\n  \n  const isCompletedAndCanRate = transaction.status === 'completed' && type === 'purchases';\n  const canMarkAsCompleted = transaction.status === 'contacted' && type === 'sales';\n\n  return (\n    <>\n      <Card className=\"mb-3 shadow-sm\">\n        <Card.Body>\n          <Row className=\"align-items-center\">\n            <Col md={2}>\n              <div className=\"text-center\">\n                <div className=\"text-muted small\">ID: #{transaction.id.slice(-6)}</div>\n                <div className=\"text-muted small\">{new Date(transaction.createdAt.toDate()).toLocaleDateString()}</div>\n              </div>\n            </Col>\n            <Col md={3}>\n              <div>\n                <strong>{type === 'purchases' ? 'Vendedor:' : 'Comprador:'}</strong>\n                <div>{type === 'purchases' ? \n                  transaction.items[0]?.sellerName || 'Desconocido' : \n                  transaction.buyerName || 'Desconocido'}</div>\n              </div>\n            </Col>\n            <Col md={2}>\n              <div className=\"text-center\">\n                <strong>₡${transaction.totalAmount.toFixed(2)}</strong>\n                <div className=\"text-muted small\">{transaction.items.length} carta{transaction.items.length > 1 ? 's' : ''}</div>\n              </div>\n            </Col>\n            <Col md={2}>\n              <div className=\"text-center\">\n                <StatusBadge status={transaction.status} />\n              </div>\n            </Col>\n            <Col md={3}>\n              <div className=\"d-flex gap-2 justify-content-end\">\n                <Button\n                  variant=\"outline-primary\"\n                  size=\"sm\"\n                  onClick={() => setShowDetails(true)}\n                >\n                  <FaEye className=\"me-1\" size={12} />\n                  Ver detalles\n                </Button>\n                \n                {isCompletedAndCanRate && (\n                  <Button\n                    variant=\"warning\"\n                    size=\"sm\"\n                    onClick={() => onRateUser(transaction)}\n                  >\n                    <FaStar className=\"me-1\" size={12} />\n                    Calificar\n                  </Button>\n                )}\n                \n                {canMarkAsCompleted && (\n                  <Button\n                    variant=\"success\"\n                    size=\"sm\"\n                    onClick={() => onUpdateStatus(transaction.id, 'completed')}\n                  >\n                    <FaCheckCircle className=\"me-1\" size={12} />\n                    Marcar completada\n                  </Button>\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n\n      <Modal show={showDetails} onHide={() => setShowDetails(false)} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Detalles de Transacción #{transaction.id.slice(-6)}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Row className=\"mb-3\">\n            <Col md={6}>\n              <strong>Fecha:</strong> {new Date(transaction.createdAt.toDate()).toLocaleString()}\n            </Col>\n            <Col md={6}>\n              <strong>Estado:</strong> <StatusBadge status={transaction.status} />\n            </Col>\n            <Col md={6} className=\"mt-2\">\n              <strong>{type === 'purchases' ? 'Vendedor:' : 'Comprador:'}</strong>\n              {type === 'purchases' ? \n                transaction.items[0]?.sellerName || 'Desconocido' : \n                transaction.buyerName || 'Desconocido'}\n            </Col>\n            <Col md={6} className=\"mt-2\">\n              <strong>Total:</strong> ₡${transaction.totalAmount.toFixed(2)}\n            </Col>\n          </Row>\n\n          <h6>Cartas:</h6>\n          <div className=\"row g-2\">\n            {transaction.items.map((item, index) => (\n              <Col key={index} sm={6} md={4}>\n                <Card className=\"h-100\">\n                  <Row className=\"g-0\">\n                    <Col xs={4}>\n                      <img\n                        src={item.cardImage || 'https://via.placeholder.com/100'}\n                        alt={item.cardName}\n                        className=\"img-fluid rounded-start\"\n                        style={{ height: '80px', objectFit: 'contain' }}\n                      />\n                    </Col>\n                    <Col xs={8}>\n                      <Card.Body className=\"p-2\">\n                        <Card.Title className=\"fs-6 mb-1\">{item.cardName}</Card.Title>\n                        <div className=\"small text-muted\">\n                          <div>₡${item.price} · {item.condition}</div>\n                          <div>Cantidad: {item.quantity}</div>\n                        </div>\n                      </Card.Body>\n                    </Col>\n                  </Row>\n                </Card>\n              </Col>\n            ))}\n          </div>\n\n          {transaction.status === 'initiated' && type === 'purchases' && (\n            <Alert variant=\"info\" className=\"mt-3\">\n              <strong>Próximos pasos:</strong> Los enlaces de WhatsApp se abrieron automáticamente para contactar a los vendedores. \n              Una vez que confirmes la compra, el vendedor marcará la transacción como completada.\n            </Alert>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowDetails(false)}>\n            Cerrar\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nconst StarDisplay = ({ rating }) => {\n  const fullStars = Math.round(rating);\n  return (\n    <div className=\"d-flex justify-content-center mb-2\">\n      {Array.from({ length: 5 }, (_, index) => (\n        <FaStar\n          key={index}\n          size={22}\n          style={{ marginRight: '4px' }}\n          color={index < fullStars ? '#FFD700' : '#ddd'}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default function Profile() {\n  const { user, userData, loading, syncUserData, updateTransactionStatus } = useCart();\n  const [formData, setFormData] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [activeTab, setActiveTab] = useState('profile');\n  const [transactions, setTransactions] = useState({ purchases: [], sales: [] });\n  const [transactionType, setTransactionType] = useState('purchases');\n  const [loadingTransactions, setLoadingTransactions] = useState(true);\n  const [ratingModal, setRatingModal] = useState({\n    show: false,\n    transaction: null,\n    userRole: null\n  });\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n\n  useEffect(() => {\n    if (userData) {\n      setFormData(userData);\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    if (user && activeTab === 'transactions') {\n      fetchTransactions();\n    }\n  }, [user, activeTab]);\n\n  const fetchTransactions = async () => {\n    setLoadingTransactions(true);\n    try {\n      // Obtener compras (donde el usuario es comprador)\n      const purchasesQuery = query(\n        collection(db, 'transactions'),\n        where('buyerId', '==', user.uid),\n        orderBy('createdAt', 'desc')\n      );\n      const purchasesSnap = await getDocs(purchasesQuery);\n      const purchases = purchasesSnap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n\n      // Obtener ventas (donde el usuario es vendedor en algún item)\n      const allTransactionsQuery = query(\n        collection(db, 'transactions'),\n        orderBy('createdAt', 'desc')\n      );\n      const allTransactionsSnap = await getDocs(allTransactionsQuery);\n      const sales = [];\n      \n      allTransactionsSnap.forEach(doc => {\n        const transaction = doc.data();\n        const hasUserItems = transaction.items?.some(item => item.sellerId === user.uid);\n        if (hasUserItems && transaction.buyerId !== user.uid) {\n          sales.push({ id: doc.id, ...transaction });\n        }\n      });\n\n      setTransactions({ purchases, sales });\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    }\n    setLoadingTransactions(false);\n  };\n\n  const handleRateUser = (transaction) => {\n    setRatingModal({\n      show: true,\n      transaction: transaction,\n      userRole: 'buyer' // El usuario que está calificando es el comprador en Profile.js\n    });\n  };\n\n  const handleUpdateStatus = async (transactionId, newStatus) => {\n    try {\n      await updateTransactionStatus(transactionId, newStatus);\n      await fetchTransactions(); // Refrescar la lista\n      alert('Estado de transacción actualizado correctamente');\n    } catch (error) {\n      console.error('Error updating transaction status:', error);\n      alert('Error al actualizar el estado de la transacción');\n    }\n  };\n\n  const handlePhotoSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // Validar tipo de archivo\n      if (!file.type.startsWith('image/')) {\n        alert('Por favor selecciona un archivo de imagen válido');\n        return;\n      }\n      \n      // Validar tamaño (5MB máximo)\n      if (file.size > 5 * 1024 * 1024) {\n        alert('La imagen debe ser menor a 5MB');\n        return;\n      }\n      \n      setSelectedPhoto(file);\n      \n      // Crear preview\n      const reader = new FileReader();\n      reader.onload = (e) => setPhotoPreview(e.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const uploadPhoto = async () => {\n    if (!selectedPhoto || !user) return null;\n    \n    setUploadingPhoto(true);\n    try {\n      // Crear referencia única para la foto\n      const photoRef = ref(storage, `profile-photos/${user.uid}/${Date.now()}-${selectedPhoto.name}`);\n      \n      // Subir archivo\n      const snapshot = await uploadBytes(photoRef, selectedPhoto);\n      const downloadURL = await getDownloadURL(snapshot.ref);\n      \n      // Si había una foto anterior, eliminarla\n      if (formData.profilePhoto) {\n        try {\n          const oldPhotoRef = ref(storage, formData.profilePhoto);\n          await deleteObject(oldPhotoRef);\n        } catch (error) {\n          console.log('No se pudo eliminar la foto anterior:', error);\n        }\n      }\n      \n      return downloadURL;\n    } catch (error) {\n      console.error('Error subiendo foto:', error);\n      throw error;\n    } finally {\n      setUploadingPhoto(false);\n    }\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setSaving(true);\n    \n    try {\n      if (user) {\n        let updatedData = { ...formData, updatedAt: new Date() };\n        \n        // Si hay una nueva foto seleccionada, subirla\n        if (selectedPhoto) {\n          try {\n            const photoURL = await uploadPhoto();\n            if (photoURL) {\n              updatedData.profilePhoto = photoURL;\n            }\n          } catch (photoError) {\n            console.error('Error subiendo foto:', photoError);\n            setError('Error subiendo la foto de perfil');\n            setSaving(false);\n            return;\n          }\n        }\n        \n        await updateDoc(doc(db, 'users', user.uid), updatedData);\n        \n        // Sincronizar datos del usuario\n        await syncUserData();\n        \n        // Limpiar estados de foto\n        setSelectedPhoto(null);\n        setPhotoPreview(null);\n        \n        setEditMode(false);\n        setSuccess('Perfil actualizado correctamente');\n        setTimeout(() => setSuccess(''), 3000);\n      }\n    } catch (err) {\n      console.error('Error actualizando perfil:', err);\n      setError('Error al actualizar perfil');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container className=\"py-5 text-center\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Cargando...</span>\n        </Spinner>\n      </Container>\n    );\n  }\n\n  if (!user) {\n    return (\n      <Container className=\"py-5 text-center\">\n        <Card className=\"shadow-sm\">\n          <Card.Body>\n            <h3>Debes iniciar sesión</h3>\n            <p className=\"text-muted\">Inicia sesión para ver tu perfil y gestionar tus datos.</p>\n          </Card.Body>\n        </Card>\n      </Container>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.5 }}\n      className=\"section\"\n    >\n      <Container className=\"py-5\">\n        <h2 className=\"section-title text-center mb-4\">Mi Perfil</h2>\n        \n        {/* Navegación por pestañas */}\n        <Nav variant=\"pills\" className=\"justify-content-center mb-4\">\n          <Nav.Item>\n            <Nav.Link \n              active={activeTab === 'profile'} \n              onClick={() => setActiveTab('profile')}\n              className=\"d-flex align-items-center gap-2\"\n            >\n              <FaUser size={16} />\n              Información Personal\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link \n              active={activeTab === 'transactions'} \n              onClick={() => setActiveTab('transactions')}\n              className=\"d-flex align-items-center gap-2\"\n            >\n              <FaShoppingCart size={16} />\n              Mis Transacciones\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link \n              active={activeTab === 'dashboard'} \n              onClick={() => setActiveTab('dashboard')}\n              className=\"d-flex align-items-center gap-2\"\n            >\n              <FaChartLine size={16} />\n              Dashboard\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        {/* Contenido de la pestaña de perfil */}\n        {activeTab === 'profile' && userData && (\n          <Row>\n            <Col lg={8} className=\"mx-auto\">\n              <Card className=\"shadow-sm\">\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                    <h3>Información Personal</h3>\n                    <Button \n                      onClick={() => setEditMode(!editMode)} \n                      variant={editMode ? \"outline-secondary\" : \"outline-primary\"}\n                      className=\"d-flex align-items-center gap-2\"\n                    >\n                      {editMode ? (\n                        <>\n                          <FaTimes size={14} />\n                          Cancelar\n                        </>\n                      ) : (\n                        <>\n                          <FaEdit size={14} />\n                          Editar\n                        </>\n                      )}\n                    </Button>\n                  </div>\n\n                  {error && <Alert variant=\"danger\">{error}</Alert>}\n                  {success && <Alert variant=\"success\">{success}</Alert>}\n\n                  {!editMode ? (\n                    <div className=\"profile-info\">\n                      <Row className=\"align-items-start\">\n                        <Col md={3} className=\"text-center\">\n                          <div className=\"profile-photo mb-3\">\n                            <Image\n                              src={userData.profilePhoto || 'https://via.placeholder.com/150x150?text=Sin+Foto'}\n                              alt=\"Foto de perfil\"\n                              roundedCircle\n                              style={{ width: '150px', height: '150px', objectFit: 'cover', border: '3px solid #dee2e6' }}\n                            />\n                          </div>\n                          <div className=\"verification-badges\">\n                            {userData.verification?.email && (\n                              <Badge bg=\"success\" className=\"me-1 mb-1\">✅ Email</Badge>\n                            )}\n                            {userData.verification?.phone && (\n                              <Badge bg=\"success\" className=\"me-1 mb-1\">✅ Teléfono</Badge>\n                            )}\n                            {userData.verification?.identity && (\n                              <Badge bg=\"success\" className=\"me-1 mb-1\">✅ Cédula</Badge>\n                            )}\n                          </div>\n                        </Col>\n                        <Col md={5}>\n                          <h4 className=\"mb-3\">{userData.fullName || userData.username || 'Usuario sin nombre'}</h4>\n                          <div className=\"mb-2\">\n                            <strong>Usuario:</strong> @{userData.username || 'sin-usuario'}\n                          </div>\n                          <div className=\"mb-2\">\n                            <strong>Email:</strong> {user.email}\n                          </div>\n                          {userData.cedula && (\n                            <div className=\"mb-2\">\n                              <strong>Cédula:</strong> {userData.cedula}\n                            </div>\n                          )}\n                          <div className=\"mb-2\">\n                            <strong>Teléfono:</strong> {userData.phone || 'No registrado'}\n                          </div>\n                          {userData.whatsapp && userData.whatsapp !== userData.phone && (\n                            <div className=\"mb-2\">\n                              <strong>WhatsApp:</strong> {userData.whatsapp}\n                            </div>\n                          )}\n                          <div className=\"mb-2\">\n                            <strong>Ubicación:</strong> {userData.province || 'No especificada'}\n                          </div>\n                          <div className=\"mb-2\">\n                            <strong>Miembro desde:</strong> {userData.createdAt ? new Date(userData.createdAt.toDate()).toLocaleDateString() : 'Reciente'}\n                          </div>\n                          <div className=\"mb-2\">\n                            <strong>Nivel de confianza:</strong> \n                            <Badge \n                              bg={\n                                userData.accountStatus?.trustLevel === 'premium' ? 'warning' :\n                                userData.accountStatus?.trustLevel === 'trusted' ? 'success' :\n                                userData.accountStatus?.trustLevel === 'verified' ? 'info' : 'secondary'\n                              } \n                              className=\"ms-2\"\n                            >\n                              {userData.accountStatus?.trustLevel || 'Nuevo'}\n                            </Badge>\n                          </div>\n                        </Col>\n                        <Col md={4} className=\"text-center\">\n                          <div className=\"mb-3\">\n                            <strong>Calificación:</strong>\n                          </div>\n                          <StarDisplay rating={userData.rating || 0} />\n                          <p className=\"text-muted small\">\n                            ({userData.rating?.toFixed(1) || '0.0'} de 5, {userData.reviews || 0} reviews)\n                          </p>\n\n                          {(userData.whatsapp || userData.phone) && (\n                            <Button\n                              variant=\"success\"\n                              href={`https://wa.me/506${(userData.whatsapp || userData.phone).replace(/[^0-9]/g, '')}`}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"mt-3 d-flex align-items-center gap-2 mx-auto\"\n                            >\n                              <FaWhatsapp size={16} />\n                              Contactar por WhatsApp\n                            </Button>\n                          )}\n                        </Col>\n                      </Row>\n\n                      {/* Estadísticas del usuario */}\n                      <Row className=\"mt-4 pt-4 border-top\">\n                        <Col md={4} className=\"text-center\">\n                          <h5 className=\"text-primary\">{userData.listings?.length || 0}</h5>\n                          <small className=\"text-muted\">Cartas en venta</small>\n                        </Col>\n                        <Col md={4} className=\"text-center\">\n                          <h5 className=\"text-success\">{userData.binders?.length || 0}</h5>\n                          <small className=\"text-muted\">Binders creados</small>\n                        </Col>\n                        <Col md={4} className=\"text-center\">\n                          <h5 className=\"text-info\">{userData.cart?.length || 0}</h5>\n                          <small className=\"text-muted\">En carrito</small>\n                        </Col>\n                      </Row>\n                    </div>\n                  ) : (\n                    <Form onSubmit={handleUpdate}>\n                      {/* Foto de perfil */}\n                      <Form.Group className=\"mb-4 text-center\">\n                        <Form.Label>Foto de perfil</Form.Label>\n                        <div className=\"profile-photo-upload\">\n                          <div className=\"current-photo mb-3\">\n                            <Image\n                              src={photoPreview || formData.profilePhoto || 'https://via.placeholder.com/150x150?text=Sin+Foto'}\n                              alt=\"Foto de perfil\"\n                              roundedCircle\n                              style={{ width: '150px', height: '150px', objectFit: 'cover', border: '3px solid #dee2e6' }}\n                            />\n                          </div>\n                          <div className=\"photo-upload-controls d-flex gap-2 justify-content-center\">\n                            <Form.Control\n                              type=\"file\"\n                              accept=\"image/*\"\n                              onChange={handlePhotoSelect}\n                              style={{ display: 'none' }}\n                              id=\"photo-upload\"\n                            />\n                            <Button\n                              variant=\"outline-primary\"\n                              onClick={() => document.getElementById('photo-upload').click()}\n                              disabled={uploadingPhoto}\n                            >\n                              <FaCamera className=\"me-2\" />\n                              {selectedPhoto ? 'Cambiar Foto' : 'Subir Foto'}\n                            </Button>\n                            {selectedPhoto && (\n                              <Button\n                                variant=\"outline-secondary\"\n                                onClick={() => {\n                                  setSelectedPhoto(null);\n                                  setPhotoPreview(null);\n                                }}\n                              >\n                                <FaTimes className=\"me-2\" />\n                                Cancelar\n                              </Button>\n                            )}\n                          </div>\n                          {uploadingPhoto && (\n                            <div className=\"mt-2\">\n                              <Spinner size=\"sm\" animation=\"border\" className=\"me-2\" />\n                              Subiendo foto...\n                            </div>\n                          )}\n                          <Form.Text className=\"text-muted d-block mt-2\">\n                            Formatos: JPG, PNG, GIF. Máximo 5MB.\n                          </Form.Text>\n                        </div>\n                      </Form.Group>\n\n                      {/* Información básica */}\n                      <Row>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Nombre de usuario</Form.Label>\n                            <Form.Control\n                              value={formData.username || ''}\n                              onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                              placeholder=\"Tu nombre de usuario\"\n                            />\n                          </Form.Group>\n                        </Col>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Nombre completo</Form.Label>\n                            <Form.Control\n                              value={formData.fullName || ''}\n                              onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\n                              placeholder=\"Tu nombre completo según cédula\"\n                            />\n                          </Form.Group>\n                        </Col>\n                      </Row>\n\n                      {/* Información de identidad */}\n                      <Row>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Cédula de identidad *</Form.Label>\n                            <Form.Control\n                              value={formData.cedula || ''}\n                              onChange={(e) => setFormData({ ...formData, cedula: e.target.value })}\n                              placeholder=\"Ej: 1-1234-5678\"\n                              maxLength={12}\n                            />\n                            <Form.Text className=\"text-muted\">\n                              Requerido para verificación de identidad\n                            </Form.Text>\n                          </Form.Group>\n                        </Col>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Fecha de nacimiento</Form.Label>\n                            <Form.Control\n                              type=\"date\"\n                              value={formData.birthDate || ''}\n                              onChange={(e) => setFormData({ ...formData, birthDate: e.target.value })}\n                            />\n                          </Form.Group>\n                        </Col>\n                      </Row>\n\n                      {/* Contacto */}\n                      <Row>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>Teléfono</Form.Label>\n                            <Form.Control\n                              type=\"tel\"\n                              value={formData.phone || ''}\n                              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                              placeholder=\"Ej: 8888-8888\"\n                            />\n                          </Form.Group>\n                        </Col>\n                        <Col md={6}>\n                          <Form.Group className=\"mb-3\">\n                            <Form.Label>WhatsApp</Form.Label>\n                            <Form.Control\n                              type=\"tel\"\n                              value={formData.whatsapp || ''}\n                              onChange={(e) => setFormData({ ...formData, whatsapp: e.target.value })}\n                              placeholder=\"Número de WhatsApp (si es diferente)\"\n                            />\n                          </Form.Group>\n                        </Col>\n                      </Row>\n                      <Form.Group className=\"mb-3\">\n                        <Form.Label>Provincia</Form.Label>\n                        <Form.Select\n                          value={formData.province || ''}\n                          onChange={(e) => setFormData({ ...formData, province: e.target.value })}\n                        >\n                          <option value=\"\">Selecciona una provincia</option>\n                          {provinces.map((p) => (\n                            <option key={p} value={p}>{p}</option>\n                          ))}\n                        </Form.Select>\n                      </Form.Group>\n                      <div className=\"d-flex gap-2 justify-content-end\">\n                        <Button \n                          type=\"submit\" \n                          variant=\"primary\"\n                          disabled={saving}\n                          className=\"d-flex align-items-center gap-2\"\n                        >\n                          {saving ? (\n                            <>\n                              <Spinner size=\"sm\" animation=\"border\" />\n                              Guardando...\n                            </>\n                          ) : (\n                            <>\n                              <FaSave size={14} />\n                              Guardar Cambios\n                            </>\n                          )}\n                        </Button>\n                      </div>\n                    </Form>\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        )}\n\n        {/* Contenido de la pestaña de transacciones */}\n        {activeTab === 'transactions' && (\n          <div>\n            <Nav variant=\"pills\" className=\"justify-content-center mb-4\">\n              <Nav.Item>\n                <Nav.Link \n                  active={transactionType === 'purchases'} \n                  onClick={() => setTransactionType('purchases')}\n                  className=\"d-flex align-items-center gap-2\"\n                >\n                  <FaShoppingCart size={16} />\n                  Compras ({transactions.purchases.length})\n                </Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link \n                  active={transactionType === 'sales'} \n                  onClick={() => setTransactionType('sales')}\n                  className=\"d-flex align-items-center gap-2\"\n                >\n                  <FaStore size={16} />\n                  Ventas ({transactions.sales.length})\n                </Nav.Link>\n              </Nav.Item>\n            </Nav>\n\n            {loadingTransactions ? (\n              <div className=\"text-center\">\n                <Spinner animation=\"border\" role=\"status\" />\n                <p className=\"mt-3 text-muted\">Cargando transacciones...</p>\n              </div>\n            ) : (() => {\n              const currentTransactions = transactions[transactionType] || [];\n              \n              return currentTransactions.length === 0 ? (\n                <Alert variant=\"info\" className=\"text-center\">\n                  <h5>No hay {transactionType === 'purchases' ? 'compras' : 'ventas'} registradas</h5>\n                  <p className=\"mb-0\">\n                    {transactionType === 'purchases' \n                      ? 'Cuando realices compras, aparecerán aquí.' \n                      : 'Cuando realices ventas, aparecerán aquí.'}\n                  </p>\n                </Alert>\n              ) : (\n                <div>\n                  {currentTransactions.map(transaction => (\n                    <TransactionCard\n                      key={transaction.id}\n                      transaction={transaction}\n                      type={transactionType}\n                      onRateUser={handleRateUser}\n                      onUpdateStatus={handleUpdateStatus}\n                    />\n                  ))}\n                </div>\n              );\n            })()}\n          </div>\n        )}\n\n        {/* Contenido de la pestaña Dashboard */}\n        {activeTab === 'dashboard' && (\n          <DashboardContent user={user} />\n        )}\n      </Container>\n\n      {ratingModal.show && ratingModal.transaction && (\n        <RatingSystem\n          show={ratingModal.show}\n          onHide={() => setRatingModal({ show: false, transaction: null, userRole: null })}\n          transaction={ratingModal.transaction}\n          userRole={ratingModal.userRole}\n          onRatingSubmitted={(ratingData) => {\n            console.log('Rating submitted:', ratingData);\n            setRatingModal({ show: false, transaction: null, userRole: null });\n            // Opcionalmente refrescar transacciones\n            fetchTransactions();\n          }}\n        />\n      )}\n    </motion.div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}