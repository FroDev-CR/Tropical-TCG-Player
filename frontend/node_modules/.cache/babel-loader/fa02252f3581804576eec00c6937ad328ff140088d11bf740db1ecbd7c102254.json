{"ast":null,"code":"var _jsxFileName = \"/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/BinderView.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Card, Button, Row, Col, Modal, Form, Spinner, InputGroup } from 'react-bootstrap';\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { motion, AnimatePresence, useMotionValue, useTransform } from 'framer-motion';\nimport { FaArrowLeft, FaArrowRight, FaTrashAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = process.env.REACT_APP_POKEMON_API_KEY;\nexport default function BinderView() {\n  _s();\n  var _binder$cards, _binder$cards2, _binder$cards3, _binder$cards4;\n  const {\n    id\n  } = useParams();\n  const [binder, setBinder] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('');\n  const [filterSet, setFilterSet] = useState('');\n  const [results, setResults] = useState([]);\n  const [selectedCards, setSelectedCards] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewCard, setPreviewCard] = useState(null);\n  const cardsPerPage = {\n    '3x3': 9,\n    '4x4': 16,\n    '2x2': 4,\n    'Jumbo': 1\n  }[(binder === null || binder === void 0 ? void 0 : binder.type) || '3x3'];\n  const totalPages = Math.ceil(((binder === null || binder === void 0 ? void 0 : (_binder$cards = binder.cards) === null || _binder$cards === void 0 ? void 0 : _binder$cards.length) || 0) / cardsPerPage);\n  useEffect(() => {\n    const fetchBinder = async () => {\n      try {\n        const docRef = doc(db, 'binders', id);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          setBinder({\n            id: docSnap.id,\n            ...docSnap.data()\n          });\n        }\n      } catch (error) {\n        console.error(\"Error cargando binder:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBinder();\n  }, [id]);\n  const searchCards = async () => {\n    try {\n      const response = await fetch(`https://api.pokemontcg.io/v2/cards?q=name:${searchTerm}*`, {\n        headers: {\n          'X-Api-Key': API_KEY\n        }\n      });\n      const data = await response.json();\n      setResults(data.data);\n    } catch (err) {\n      console.error(\"Error buscando cartas:\", err);\n    }\n  };\n  const handleDeleteCard = async cardId => {\n    const updatedCards = binder.cards.filter(card => card.id !== cardId);\n    await updateDoc(doc(db, 'binders', id), {\n      cards: updatedCards\n    });\n    setBinder(prev => ({\n      ...prev,\n      cards: updatedCards\n    }));\n  };\n  const toggleCardSelect = card => {\n    if (selectedCards.some(c => c.id === card.id)) {\n      setSelectedCards(prev => prev.filter(c => c.id !== card.id));\n    } else {\n      setSelectedCards(prev => [...prev, card]);\n    }\n  };\n  const saveCardsToBinder = async () => {\n    try {\n      const updatedCards = [...(binder.cards || []), ...selectedCards];\n      await updateDoc(doc(db, 'binders', id), {\n        cards: updatedCards\n      });\n      setBinder(prev => ({\n        ...prev,\n        cards: updatedCards\n      }));\n      setShowModal(false);\n      setSelectedCards([]);\n    } catch (err) {\n      console.error(\"Error guardando cartas:\", err);\n    }\n  };\n  const filteredCards = (binder === null || binder === void 0 ? void 0 : (_binder$cards2 = binder.cards) === null || _binder$cards2 === void 0 ? void 0 : _binder$cards2.filter(card => {\n    var _card$types;\n    const matchesName = !searchTerm || card.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesType = !filterType || ((_card$types = card.types) === null || _card$types === void 0 ? void 0 : _card$types.includes(filterType));\n    const setName = typeof card.set === 'object' ? card.set.name : card.set;\n    const matchesSet = !filterSet || setName === filterSet;\n    return matchesName && matchesType && matchesSet;\n  })) || [];\n  const ref = useRef(null);\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const rotateX = useTransform(y, [-50, 50], [15, -15]);\n  const rotateY = useTransform(x, [-50, 50], [-15, 15]);\n  const handleMouseMove = e => {\n    const bounds = ref.current.getBoundingClientRect();\n    const xPos = e.clientX - bounds.left - bounds.width / 2;\n    const yPos = e.clientY - bounds.top - bounds.height / 2;\n    x.set(xPos);\n    y.set(yPos);\n  };\n  const handleMouseLeave = () => {\n    x.set(0);\n    y.set(0);\n  };\n  const paginatedCards = filteredCards.slice((page - 1) * cardsPerPage, page * cardsPerPage);\n  const typesList = [...new Set(binder === null || binder === void 0 ? void 0 : (_binder$cards3 = binder.cards) === null || _binder$cards3 === void 0 ? void 0 : _binder$cards3.flatMap(c => c.types || []))];\n  const setsList = [...new Set(binder === null || binder === void 0 ? void 0 : (_binder$cards4 = binder.cards) === null || _binder$cards4 === void 0 ? void 0 : _binder$cards4.map(c => typeof c.set === 'object' ? c.set.name : c.set))].filter(Boolean);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    className: \"section\",\n    style: {\n      minHeight: '100vh',\n      backgroundImage: 'url(https://www.transparenttextures.com/patterns/black-linen.png)',\n      backgroundColor: '#1a1a1a',\n      paddingTop: '60px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-0\",\n            children: [\"Binder tipo \", binder.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-light\",\n            children: binder.description || 'Sin descripciÃ³n'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowModal(true),\n          children: \"A\\xF1adir cartas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              placeholder: \"Buscar por nombre...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: filterType,\n            onChange: e => setFilterType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Filtrar por tipo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), typesList.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: type,\n              children: type\n            }, type, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: filterSet,\n            onChange: e => setFilterSet(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Filtrar por expansi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), setsList.map(set => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: set,\n              children: set\n            }, set, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        mode: \"wait\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            x: 100\n          },\n          animate: {\n            opacity: 1,\n            x: 0\n          },\n          exit: {\n            opacity: 0,\n            x: -100\n          },\n          transition: {\n            duration: 0.4\n          },\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"g-3 justify-content-center\",\n            style: {\n              padding: '25px',\n              background: '#2b2b2b',\n              borderRadius: '10px',\n              border: '1px solid #444'\n            },\n            children: paginatedCards.map(card => /*#__PURE__*/_jsxDEV(Col, {\n              xs: binder.type === 'Jumbo' ? 12 : 4,\n              sm: binder.type === '4x4' ? 3 : binder.type === '2x2' ? 6 : 4,\n              md: binder.type === '4x4' ? 3 : binder.type === '2x2' ? 6 : 4,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"bg-dark border-0 position-relative\",\n                style: {\n                  cursor: 'pointer'\n                },\n                onClick: () => {\n                  setPreviewCard(card);\n                  setShowPreview(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  src: card.images.small,\n                  alt: \"\",\n                  style: {\n                    width: '100%',\n                    height: '160px',\n                    objectFit: 'contain',\n                    border: '2px solid #333',\n                    borderRadius: '6px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 3\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"danger\",\n                  size: \"sm\",\n                  className: \"position-absolute top-0 end-0 m-1\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleDeleteCard(card.id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 5\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 3\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }, card.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, page, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center align-items-center mt-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          size: \"lg\",\n          className: \"rounded-circle\",\n          disabled: page <= 1,\n          onClick: () => setPage(p => p - 1),\n          children: /*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-muted\",\n          children: [\"P\\xE1gina \", page, \" de \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          size: \"lg\",\n          className: \"rounded-circle\",\n          disabled: page >= totalPages,\n          onClick: () => setPage(p => p + 1),\n          children: /*#__PURE__*/_jsxDEV(FaArrowRight, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showPreview,\n      onHide: () => setShowPreview(false),\n      size: \"md\",\n      centered: true,\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        ref: ref,\n        style: {\n          rotateX,\n          rotateY,\n          x,\n          y,\n          transformStyle: 'preserve-3d',\n          cursor: 'grab'\n        },\n        onMouseMove: handleMouseMove,\n        onMouseLeave: handleMouseLeave,\n        transition: {\n          type: 'spring',\n          stiffness: 150,\n          damping: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Modal.Body, {\n          style: {\n            background: '#222',\n            borderRadius: '10px'\n          },\n          children: previewCard && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: previewCard.images.large,\n            alt: previewCard.name,\n            style: {\n              width: '100%',\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      size: \"lg\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"A\\xF1adir Cartas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Buscar carta (ej: Charizard)\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && searchCards()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: searchCards,\n          className: \"mt-2 mb-3\",\n          children: \"Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-3\",\n          children: results.map(card => /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              onClick: () => toggleCardSelect(card),\n              className: `h-100 shadow-sm cursor-pointer ${selectedCards.some(c => c.id === card.id) ? 'border-primary' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: card.images.small\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                  className: \"fs-6\",\n                  children: card.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)\n          }, card.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), selectedCards.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-end mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: saveCardsToBinder,\n            children: [\"Guardar \", selectedCards.length, \" carta\", selectedCards.length > 1 ? 's' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n_s(BinderView, \"6nsOI5oqRGaCokMBxCcHlUhJqnc=\", false, function () {\n  return [useParams, useMotionValue, useMotionValue, useTransform, useTransform];\n});\n_c = BinderView;\nvar _c;\n$RefreshReg$(_c, \"BinderView\");","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Container","Card","Button","Row","Col","Modal","Form","Spinner","InputGroup","doc","getDoc","updateDoc","db","motion","AnimatePresence","useMotionValue","useTransform","FaArrowLeft","FaArrowRight","FaTrashAlt","jsxDEV","_jsxDEV","API_KEY","process","env","REACT_APP_POKEMON_API_KEY","BinderView","_s","_binder$cards","_binder$cards2","_binder$cards3","_binder$cards4","id","binder","setBinder","loading","setLoading","showModal","setShowModal","searchTerm","setSearchTerm","filterType","setFilterType","filterSet","setFilterSet","results","setResults","selectedCards","setSelectedCards","page","setPage","showPreview","setShowPreview","previewCard","setPreviewCard","cardsPerPage","type","totalPages","Math","ceil","cards","length","fetchBinder","docRef","docSnap","exists","data","error","console","searchCards","response","fetch","headers","json","err","handleDeleteCard","cardId","updatedCards","filter","card","prev","toggleCardSelect","some","c","saveCardsToBinder","filteredCards","_card$types","matchesName","name","toLowerCase","includes","matchesType","types","setName","set","matchesSet","ref","x","y","rotateX","rotateY","handleMouseMove","e","bounds","current","getBoundingClientRect","xPos","clientX","left","width","yPos","clientY","top","height","handleMouseLeave","paginatedCards","slice","typesList","Set","flatMap","setsList","map","Boolean","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","animate","style","minHeight","backgroundImage","backgroundColor","paddingTop","description","onClick","md","Control","placeholder","value","onChange","target","Select","mode","exit","transition","duration","padding","background","borderRadius","border","xs","sm","cursor","Img","src","images","small","alt","objectFit","variant","size","stopPropagation","disabled","p","show","onHide","centered","transformStyle","onMouseMove","onMouseLeave","stiffness","damping","Body","large","Header","closeButton","Title","onKeyPress","key","_c","$RefreshReg$"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/BinderView.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Container, Card, Button, Row, Col, Modal,\n  Form, Spinner, InputGroup\n} from 'react-bootstrap';\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { motion, AnimatePresence, useMotionValue, useTransform } from 'framer-motion';\nimport { FaArrowLeft, FaArrowRight, FaTrashAlt } from 'react-icons/fa';\n\n\nconst API_KEY = process.env.REACT_APP_POKEMON_API_KEY;\n\nexport default function BinderView() {\n  const { id } = useParams();\n  const [binder, setBinder] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('');\n  const [filterSet, setFilterSet] = useState('');\n  const [results, setResults] = useState([]);\n  const [selectedCards, setSelectedCards] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewCard, setPreviewCard] = useState(null);\n\n  const cardsPerPage = {\n    '3x3': 9,\n    '4x4': 16,\n    '2x2': 4,\n    'Jumbo': 1\n  }[binder?.type || '3x3'];\n\n  const totalPages = Math.ceil((binder?.cards?.length || 0) / cardsPerPage);\n\n  useEffect(() => {\n    const fetchBinder = async () => {\n      try {\n        const docRef = doc(db, 'binders', id);\n        const docSnap = await getDoc(docRef);\n        if (docSnap.exists()) {\n          setBinder({ id: docSnap.id, ...docSnap.data() });\n        }\n      } catch (error) {\n        console.error(\"Error cargando binder:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBinder();\n  }, [id]);\n\n  const searchCards = async () => {\n    try {\n      const response = await fetch(`https://api.pokemontcg.io/v2/cards?q=name:${searchTerm}*`, {\n        headers: { 'X-Api-Key': API_KEY }\n      });\n      const data = await response.json();\n      setResults(data.data);\n    } catch (err) {\n      console.error(\"Error buscando cartas:\", err);\n    }\n  };\n\n  const handleDeleteCard = async (cardId) => {\n    const updatedCards = binder.cards.filter(card => card.id !== cardId);\n    await updateDoc(doc(db, 'binders', id), { cards: updatedCards });\n    setBinder(prev => ({ ...prev, cards: updatedCards }));\n  };\n  \n\n  const toggleCardSelect = (card) => {\n    if (selectedCards.some(c => c.id === card.id)) {\n      setSelectedCards(prev => prev.filter(c => c.id !== card.id));\n    } else {\n      setSelectedCards(prev => [...prev, card]);\n    }\n  };\n\n  const saveCardsToBinder = async () => {\n    try {\n      const updatedCards = [...(binder.cards || []), ...selectedCards];\n      await updateDoc(doc(db, 'binders', id), { cards: updatedCards });\n      setBinder(prev => ({ ...prev, cards: updatedCards }));\n      setShowModal(false);\n      setSelectedCards([]);\n    } catch (err) {\n      console.error(\"Error guardando cartas:\", err);\n    }\n  };\n\n  const filteredCards = binder?.cards?.filter(card => {\n    const matchesName = !searchTerm || card.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesType = !filterType || card.types?.includes(filterType);\n    const setName = typeof card.set === 'object' ? card.set.name : card.set;\n    const matchesSet = !filterSet || setName === filterSet;\n    return matchesName && matchesType && matchesSet;\n  }) || [];\n  const ref = useRef(null);\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n  const rotateX = useTransform(y, [-50, 50], [15, -15]);\n  const rotateY = useTransform(x, [-50, 50], [-15, 15]);\n  \n  const handleMouseMove = (e) => {\n    const bounds = ref.current.getBoundingClientRect();\n    const xPos = e.clientX - bounds.left - bounds.width / 2;\n    const yPos = e.clientY - bounds.top - bounds.height / 2;\n    x.set(xPos);\n    y.set(yPos);\n  };\n  \n  const handleMouseLeave = () => {\n    x.set(0);\n    y.set(0);\n  };\n  \n  const paginatedCards = filteredCards.slice((page - 1) * cardsPerPage, page * cardsPerPage);\n  const typesList = [...new Set(binder?.cards?.flatMap(c => c.types || []))];\n  const setsList = [...new Set(binder?.cards?.map(c => typeof c.set === 'object' ? c.set.name : c.set))].filter(Boolean);\n\n  if (loading) {\n    return (\n      <Container className=\"py-5 text-center\">\n        <Spinner animation=\"border\" />\n      </Container>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      className=\"section\"\n      style={{\n        minHeight: '100vh',\n        backgroundImage: 'url(https://www.transparenttextures.com/patterns/black-linen.png)',\n        backgroundColor: '#1a1a1a',\n        paddingTop: '60px'\n      }}\n    >\n      <Container className=\"text-white\">\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <div>\n            <h2 className=\"mb-0\">Binder tipo {binder.type}</h2>\n            <p className=\"text-light\">{binder.description || 'Sin descripciÃ³n'}</p>\n          </div>\n          <Button onClick={() => setShowModal(true)}>AÃ±adir cartas</Button>\n        </div>\n\n        {/* Filtros */}\n        <Row className=\"mb-4\">\n          <Col md={6}>\n            <InputGroup>\n              <Form.Control\n                placeholder=\"Buscar por nombre...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </InputGroup>\n          </Col>\n          <Col md={3}>\n            <Form.Select value={filterType} onChange={(e) => setFilterType(e.target.value)}>\n              <option value=\"\">Filtrar por tipo</option>\n              {typesList.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col md={3}>\n            <Form.Select value={filterSet} onChange={(e) => setFilterSet(e.target.value)}>\n              <option value=\"\">Filtrar por expansiÃ³n</option>\n              {setsList.map(set => (\n                <option key={set} value={set}>{set}</option>\n              ))}\n            </Form.Select>\n          </Col>\n        </Row>\n\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={page}\n            initial={{ opacity: 0, x: 100 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -100 }}\n            transition={{ duration: 0.4 }}\n          >\n            <Row\n              className=\"g-3 justify-content-center\"\n              style={{\n                padding: '25px',\n                background: '#2b2b2b',\n                borderRadius: '10px',\n                border: '1px solid #444'\n              }}\n            >\n              {paginatedCards.map((card) => (\n                <Col\n                  key={card.id}\n                  xs={binder.type === 'Jumbo' ? 12 : 4}\n                  sm={binder.type === '4x4' ? 3 : binder.type === '2x2' ? 6 : 4}\n                  md={binder.type === '4x4' ? 3 : binder.type === '2x2' ? 6 : 4}\n                >\n                  <Card\n  className=\"bg-dark border-0 position-relative\"\n  style={{ cursor: 'pointer' }}\n  onClick={() => {\n    setPreviewCard(card);\n    setShowPreview(true);\n  }}\n>\n  <Card.Img\n    src={card.images.small}\n    alt=\"\"\n    style={{\n      width: '100%',\n      height: '160px',\n      objectFit: 'contain',\n      border: '2px solid #333',\n      borderRadius: '6px'\n    }}\n  />\n  <Button\n    variant=\"danger\"\n    size=\"sm\"\n    className=\"position-absolute top-0 end-0 m-1\"\n    onClick={(e) => {\n      e.stopPropagation();\n      handleDeleteCard(card.id);\n    }}\n  >\n    <FaTrashAlt />\n  </Button>\n</Card>\n                </Col>\n              ))}\n            </Row>\n          </motion.div>\n        </AnimatePresence>\n\n        {/* Flechas */}\n        {totalPages > 1 && (\n          <div className=\"d-flex justify-content-center align-items-center mt-4 gap-4\">\n            <Button\n              variant=\"light\"\n              size=\"lg\"\n              className=\"rounded-circle\"\n              disabled={page <= 1}\n              onClick={() => setPage(p => p - 1)}\n            >\n              <FaArrowLeft />\n            </Button>\n            <span className=\"text-muted\">PÃ¡gina {page} de {totalPages}</span>\n            <Button\n              variant=\"light\"\n              size=\"lg\"\n              className=\"rounded-circle\"\n              disabled={page >= totalPages}\n              onClick={() => setPage(p => p + 1)}\n            >\n              <FaArrowRight />\n            </Button>\n          </div>\n        )}\n      </Container>\n\n      {/* Modal vista previa de carta */}\n      <Modal show={showPreview} onHide={() => setShowPreview(false)} size=\"md\" centered>\n  <motion.div\n    ref={ref}\n    style={{\n      rotateX,\n      rotateY,\n      x,\n      y,\n      transformStyle: 'preserve-3d',\n      cursor: 'grab'\n    }}\n    onMouseMove={handleMouseMove}\n    onMouseLeave={handleMouseLeave}\n    transition={{ type: 'spring', stiffness: 150, damping: 10 }}\n  >\n    <Modal.Body style={{ background: '#222', borderRadius: '10px' }}>\n      {previewCard && (\n        <img\n          src={previewCard.images.large}\n          alt={previewCard.name}\n          style={{ width: '100%', borderRadius: '8px' }}\n        />\n      )}\n    </Modal.Body>\n  </motion.div>\n</Modal>\n\n\n      {/* Modal para aÃ±adir cartas */}\n      <Modal show={showModal} onHide={() => setShowModal(false)} size=\"lg\" centered>\n        <Modal.Header closeButton>\n          <Modal.Title>AÃ±adir Cartas</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Buscar carta (ej: Charizard)\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && searchCards()}\n          />\n          <Button onClick={searchCards} className=\"mt-2 mb-3\">Buscar</Button>\n          <Row className=\"g-3\">\n            {results.map(card => (\n              <Col key={card.id} md={3}>\n                <Card\n                  onClick={() => toggleCardSelect(card)}\n                  className={`h-100 shadow-sm cursor-pointer ${selectedCards.some(c => c.id === card.id) ? 'border-primary' : ''}`}\n                >\n                  <Card.Img variant=\"top\" src={card.images.small} />\n                  <Card.Body>\n                    <Card.Title className=\"fs-6\">{card.name}</Card.Title>\n                  </Card.Body>\n                </Card>\n              </Col>\n            ))}\n          </Row>\n          {selectedCards.length > 0 && (\n            <div className=\"text-end mt-4\">\n              <Button onClick={saveCardsToBinder}>\n                Guardar {selectedCards.length} carta{selectedCards.length > 1 ? 's' : ''}\n              </Button>\n            </div>\n          )}\n        </Modal.Body>\n      </Modal>\n    </motion.div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}