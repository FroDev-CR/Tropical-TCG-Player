{"ast":null,"code":"// src/pages/Dashboard.js\nimport React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Tab,Tabs,Table,Badge,Button,Alert,Spinner,Form}from'react-bootstrap';import{FaChartLine,FaBoxOpen,FaDollarSign,FaStar,FaEye,FaEdit,FaTrash,FaPlus,FaCalendarAlt,FaTrophy,FaHandshake,FaComments,FaCheck,FaTimes,FaClock}from'react-icons/fa';import{LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,PieChart,Pie,Cell,BarChart,Bar}from'recharts';import{format,subDays,startOfDay,endOfDay}from'date-fns';import{es}from'date-fns/locale';import{useAuth}from'../contexts/AuthContext';import backendAPI from'../services/backendAPI';import SellCardModal from'../components/SellCardModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=['#0088FE','#00C49F','#FFBB28','#FF8042','#8884D8'];export default function Dashboard(){const{user,isAuthenticated}=useAuth();const[activeTab,setActiveTab]=useState('overview');const[loading,setLoading]=useState(true);const[showSellModal,setShowSellModal]=useState(false);const[selectedPeriod,setSelectedPeriod]=useState('30');const[transactions,setTransactions]=useState([]);const[listings,setListings]=useState([]);// Data states\nconst[dashboardData,setDashboardData]=useState({totalSales:0,totalRevenue:0,totalListings:0,activeListings:0,averageRating:0,totalReviews:0,salesData:[],tcgDistribution:[],recentSales:[],allListings:[],buyerTransactions:[],sellerTransactions:[]});useEffect(()=>{if(isAuthenticated&&user){fetchDashboardData();}},[isAuthenticated,user,selectedPeriod]);const fetchDashboardData=async()=>{setLoading(true);try{// Fetch dashboard stats from backend\nconst statsResponse=await backendAPI.getDashboardStats();if(statsResponse.success){var _statsResponse$recent,_statsResponse$recent2,_statsResponse$recent3,_statsResponse$recent4,_statsResponse$recent5;setDashboardData({totalSales:statsResponse.stats.completedSales||0,totalRevenue:0,// TODO: Calculate from completed transactions\ntotalListings:statsResponse.stats.totalListings||0,activeListings:statsResponse.stats.totalListings||0,// TODO: Separate active vs total\naverageRating:statsResponse.stats.rating||0,totalReviews:0,// TODO: Add review count to backend\nsalesData:generateSalesChartData(((_statsResponse$recent=statsResponse.recentActivity)===null||_statsResponse$recent===void 0?void 0:_statsResponse$recent.activeTransactions)||[],parseInt(selectedPeriod)),tcgDistribution:generateTCGDistribution(((_statsResponse$recent2=statsResponse.recentActivity)===null||_statsResponse$recent2===void 0?void 0:_statsResponse$recent2.recentListings)||[]),recentSales:((_statsResponse$recent3=statsResponse.recentActivity)===null||_statsResponse$recent3===void 0?void 0:(_statsResponse$recent4=_statsResponse$recent3.activeTransactions)===null||_statsResponse$recent4===void 0?void 0:_statsResponse$recent4.slice(0,10))||[],allListings:((_statsResponse$recent5=statsResponse.recentActivity)===null||_statsResponse$recent5===void 0?void 0:_statsResponse$recent5.recentListings)||[],buyerTransactions:[],sellerTransactions:[]});}// Fetch transactions\nconst transactionsResponse=await backendAPI.getTransactions();if(transactionsResponse.success){const allTransactions=transactionsResponse.transactions.map(t=>{var _t$timeline;return{...t,createdAt:new Date(((_t$timeline=t.timeline)===null||_t$timeline===void 0?void 0:_t$timeline.created)||t.createdAt),type:t.buyer.userId===user._id?'buyer':'seller'};});setTransactions(allTransactions);}// Fetch user listings\nconst listingsResponse=await backendAPI.getUserListings();if(listingsResponse.success){setListings(listingsResponse.listings||[]);}}catch(error){console.error('Error fetching dashboard data:',error);}setLoading(false);};const generateSalesChartData=(transactions,days)=>{const data=[];for(let i=days-1;i>=0;i--){const date=subDays(new Date(),i);const dayTransactions=transactions.filter(t=>t.createdAt&&format(t.createdAt,'yyyy-MM-dd')===format(date,'yyyy-MM-dd'));data.push({date:format(date,'dd/MM',{locale:es}),sales:dayTransactions.length,revenue:dayTransactions.reduce((sum,t)=>sum+(t.totalAmount||0),0)});}return data;};const generateTCGDistribution=listings=>{const distribution={};listings.forEach(listing=>{const tcg=listing.tcgType||'Unknown';distribution[tcg]=(distribution[tcg]||0)+1;});return Object.entries(distribution).map(_ref=>{let[name,value]=_ref;return{name,value};});};const handleDeleteListing=async listingId=>{if(window.confirm('¬øEst√°s seguro de que quieres eliminar esta publicaci√≥n?')){try{// TODO: Implement delete endpoint in backend\nconsole.log('Delete listing:',listingId);alert('Funcionalidad de eliminar pendiente de implementar');}catch(error){console.error('Error deleting listing:',error);alert('Error al eliminar la publicaci√≥n');}}};const handleMarkAsSold=async listingId=>{if(window.confirm('¬øMarcar esta publicaci√≥n como vendida?')){try{const updateData={status:'sold_out',availableQuantity:0};const response=await backendAPI.updateListing(listingId,updateData);if(response.success){fetchDashboardData();alert('Publicaci√≥n marcada como vendida');}else{alert('Error al actualizar la publicaci√≥n: '+response.message);}}catch(error){console.error('Error updating listing:',error);alert('Error al actualizar la publicaci√≥n');}}};const updateTransactionStatus=async(transactionId,newStatus)=>{try{// TODO: Implement specific transaction status update endpoints\nconsole.log('Update transaction:',transactionId,'to:',newStatus);alert('Funcionalidad de actualizar transacci√≥n pendiente de implementar');}catch(error){console.error('Error updating transaction:',error);alert('Error al actualizar la transacci√≥n');}};const openChat=transaction=>{// TODO: Implement chat functionality\nalert('Funcionalidad de chat pendiente de implementar');};const getStatusBadgeTransaction=status=>{const statusMap={'PENDIENTE':{label:'Pendiente',variant:'warning',icon:FaClock},'ACEPTADA':{label:'Aceptada',variant:'info',icon:FaCheck},'ENVIADA':{label:'Enviada',variant:'primary',icon:FaBoxOpen},'COMPLETADA':{label:'Completada',variant:'success',icon:FaCheck},'CANCELADA':{label:'Cancelada',variant:'danger',icon:FaTimes}};const statusInfo=statusMap[status]||{label:status,variant:'secondary',icon:FaClock};const IconComponent=statusInfo.icon;return/*#__PURE__*/_jsxs(Badge,{bg:statusInfo.variant,className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(IconComponent,{size:12}),statusInfo.label]});};const formatCurrency=amount=>{return new Intl.NumberFormat('es-CR',{style:'currency',currency:'CRC'}).format(amount||0);};const getStatusBadge=status=>{const statusMap={'active':{label:'Activo',variant:'success'},'sold':{label:'Vendido',variant:'info'},'inactive':{label:'Inactivo',variant:'secondary'}};const statusInfo=statusMap[status]||{label:status,variant:'secondary'};return/*#__PURE__*/_jsx(Badge,{bg:statusInfo.variant,children:statusInfo.label});};if(loading){return/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",className:\"mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Cargando dashboard...\"})]})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-0\",children:\"\\uD83D\\uDCCA Dashboard de Vendedor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 align-items-center\",children:[/*#__PURE__*/_jsxs(Form.Select,{value:selectedPeriod,onChange:e=>setSelectedPeriod(e.target.value),style:{width:'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"\\xDAltimos 7 d\\xEDas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"\\xDAltimos 30 d\\xEDas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90\",children:\"\\xDAltimos 90 d\\xEDas\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>setShowSellModal(true),className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(FaPlus,{size:14}),\"Nueva Venta\"]})]})]}),/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:setActiveTab,className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"overview\",title:\"\\uD83D\\uDCC8 Resumen\",children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center h-100 border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(FaDollarSign,{className:\"text-success mb-2\",size:24}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-success\",children:formatCurrency(dashboardData.totalRevenue)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Ingresos Totales\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center h-100 border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(FaChartLine,{className:\"text-primary mb-2\",size:24}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary\",children:dashboardData.totalSales}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Ventas Realizadas\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center h-100 border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(FaBoxOpen,{className:\"text-warning mb-2\",size:24}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-warning\",children:dashboardData.activeListings}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Publicaciones Activas\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center h-100 border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(FaStar,{className:\"text-info mb-2\",size:24}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-info\",children:dashboardData.averageRating.toFixed(1)}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Rating Promedio (\",dashboardData.totalReviews,\" rese\\xF1as)\"]})]})})})]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(Card,{className:\"h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(FaChartLine,{className:\"text-primary\"}),\"Ventas e Ingresos por D\\xEDa\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:dashboardData.salesData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"left\",orientation:\"left\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"right\",orientation:\"right\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{yAxisId:\"left\",type:\"monotone\",dataKey:\"sales\",stroke:\"#0d6efd\",strokeWidth:2,name:\"Ventas\"}),/*#__PURE__*/_jsx(Line,{yAxisId:\"right\",type:\"monotone\",dataKey:\"revenue\",stroke:\"#198754\",strokeWidth:2,name:\"Ingresos (\\u20A1)\"})]})})})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Card,{className:\"h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Distribuci\\xF3n por TCG\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:dashboardData.tcgDistribution,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref2=>{let{name,percent}=_ref2;return`${name} ${(percent*100).toFixed(0)}%`;},outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:dashboardData.tcgDistribution.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{})]})})})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(FaTrophy,{className:\"text-warning\"}),\"Ventas Recientes\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:dashboardData.recentSales.length===0?/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"text-center\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{className:\"me-2\"}),\"No hay ventas registradas en este per\\xEDodo.\"]}):/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Comprador\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Productos\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dashboardData.recentSales.map(sale=>{var _sale$items;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:sale.createdAt?format(sale.createdAt,'dd/MM/yyyy HH:mm',{locale:es}):'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:sale.buyerName||'Usuario'}),/*#__PURE__*/_jsxs(\"td\",{children:[((_sale$items=sale.items)===null||_sale$items===void 0?void 0:_sale$items.length)||1,\" producto(s)\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"fw-bold text-success\",children:formatCurrency(sale.totalAmount)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Completada\"})})]},sale.id);})})]})})]})})})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"transactions\",title:\"\\uD83D\\uDCB0 Transacciones\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Historial de Transacciones\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[\"Como Comprador: \",dashboardData.buyerTransactions.length]}),/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[\"Como Vendedor: \",dashboardData.sellerTransactions.length]})]})]}),transactions.length===0?/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"text-center\",children:[/*#__PURE__*/_jsx(FaHandshake,{className:\"me-2\"}),\"No tienes transacciones registradas en este per\\xEDodo.\"]}):/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contraparte\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Productos\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(transaction=>{var _transaction$items,_transaction$items2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:transaction.createdAt?format(transaction.createdAt,'dd/MM/yyyy HH:mm',{locale:es}):'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:transaction.type==='seller'?'success':'primary',children:transaction.type==='seller'?'üì§ Venta':'üì• Compra'})}),/*#__PURE__*/_jsx(\"td\",{children:transaction.type==='seller'?transaction.buyerName:transaction.sellerName}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[(_transaction$items=transaction.items)===null||_transaction$items===void 0?void 0:_transaction$items.slice(0,2).map((item,idx)=>/*#__PURE__*/_jsxs(\"small\",{className:\"d-block text-muted\",children:[item.cardName,\" (x\",item.quantity,\")\"]},idx)),((_transaction$items2=transaction.items)===null||_transaction$items2===void 0?void 0:_transaction$items2.length)>2&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"+\",transaction.items.length-2,\" m\\xE1s\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"fw-bold text-success\",children:formatCurrency(transaction.totalAmount)}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadgeTransaction(transaction.status)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>openChat(transaction),title:\"Abrir chat\",children:/*#__PURE__*/_jsx(FaComments,{size:12})}),transaction.type==='seller'&&transaction.status==='PENDIENTE'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",size:\"sm\",onClick:()=>updateTransactionStatus(transaction.id,'ACEPTADA'),title:\"Aceptar oferta\",children:/*#__PURE__*/_jsx(FaCheck,{size:12})}),transaction.type==='seller'&&transaction.status==='ACEPTADA'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",size:\"sm\",onClick:()=>updateTransactionStatus(transaction.id,'ENVIADA'),title:\"Marcar como enviado\",children:/*#__PURE__*/_jsx(FaBoxOpen,{size:12})}),transaction.status==='ENVIADA'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",size:\"sm\",onClick:()=>updateTransactionStatus(transaction.id,'COMPLETADA'),title:\"Marcar como completado\",children:/*#__PURE__*/_jsx(FaTrophy,{size:12})}),['PENDIENTE','ACEPTADA'].includes(transaction.status)&&/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>updateTransactionStatus(transaction.id,'CANCELADA'),title:\"Cancelar transacci\\xF3n\",children:/*#__PURE__*/_jsx(FaTimes,{size:12})})]})})]},transaction.id);})})]})})})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"listings\",title:\"\\uD83D\\uDCE6 Mis Publicaciones\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Gesti\\xF3n de Publicaciones\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>setShowSellModal(true),className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(FaPlus,{size:14}),\"Nueva Publicaci\\xF3n\"]})]}),dashboardData.allListings.length===0?/*#__PURE__*/_jsxs(Alert,{variant:\"info\",className:\"text-center\",children:[/*#__PURE__*/_jsx(FaBoxOpen,{className:\"me-2\"}),\"No tienes publicaciones activas. \\xA1Crea tu primera publicaci\\xF3n!\"]}):/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Imagen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Carta\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TCG\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Vistas\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dashboardData.allListings.map(listing=>{var _listing$tcgType;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:listing.cardImage||'https://via.placeholder.com/50',alt:listing.cardName,style:{width:'50px',height:'70px',objectFit:'contain'},className:\"rounded\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:listing.cardName}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:listing.setName})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:(_listing$tcgType=listing.tcgType)===null||_listing$tcgType===void 0?void 0:_listing$tcgType.toUpperCase()})}),/*#__PURE__*/_jsx(\"td\",{className:\"fw-bold text-success\",children:formatCurrency(listing.price)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:listing.availableQuantity>0?'success':'danger',children:listing.availableQuantity||0})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(FaEye,{className:\"text-muted\",size:14}),/*#__PURE__*/_jsx(\"span\",{children:listing.views||0})]})}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(listing.status)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",title:\"Editar\",children:/*#__PURE__*/_jsx(FaEdit,{size:12})}),listing.status==='active'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-warning\",size:\"sm\",onClick:()=>handleMarkAsSold(listing.id),title:\"Marcar como vendida\",children:/*#__PURE__*/_jsx(FaDollarSign,{size:12})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleDeleteListing(listing.id),title:\"Eliminar\",children:/*#__PURE__*/_jsx(FaTrash,{size:12})})]})})]},listing.id);})})]})})})]})]}),/*#__PURE__*/_jsx(SellCardModal,{show:showSellModal,onHide:()=>setShowSellModal(false),onSuccess:()=>{setShowSellModal(false);fetchDashboardData();// Refresh dashboard data\n}})]});}","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Tab","Tabs","Table","Badge","Button","Alert","Spinner","Form","FaChartLine","FaBoxOpen","FaDollarSign","FaStar","FaEye","FaEdit","FaTrash","FaPlus","FaCalendarAlt","FaTrophy","FaHandshake","FaComments","FaCheck","FaTimes","FaClock","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","BarChart","Bar","format","subDays","startOfDay","endOfDay","es","useAuth","backendAPI","SellCardModal","jsx","_jsx","jsxs","_jsxs","COLORS","Dashboard","user","isAuthenticated","activeTab","setActiveTab","loading","setLoading","showSellModal","setShowSellModal","selectedPeriod","setSelectedPeriod","transactions","setTransactions","listings","setListings","dashboardData","setDashboardData","totalSales","totalRevenue","totalListings","activeListings","averageRating","totalReviews","salesData","tcgDistribution","recentSales","allListings","buyerTransactions","sellerTransactions","fetchDashboardData","statsResponse","getDashboardStats","success","_statsResponse$recent","_statsResponse$recent2","_statsResponse$recent3","_statsResponse$recent4","_statsResponse$recent5","stats","completedSales","rating","generateSalesChartData","recentActivity","activeTransactions","parseInt","generateTCGDistribution","recentListings","slice","transactionsResponse","getTransactions","allTransactions","map","t","_t$timeline","createdAt","Date","timeline","created","type","buyer","userId","_id","listingsResponse","getUserListings","error","console","days","data","i","date","dayTransactions","filter","push","locale","sales","length","revenue","reduce","sum","totalAmount","distribution","forEach","listing","tcg","tcgType","Object","entries","_ref","name","value","handleDeleteListing","listingId","window","confirm","log","alert","handleMarkAsSold","updateData","status","availableQuantity","response","updateListing","message","updateTransactionStatus","transactionId","newStatus","openChat","transaction","getStatusBadgeTransaction","statusMap","label","variant","icon","statusInfo","IconComponent","bg","className","children","size","formatCurrency","amount","Intl","NumberFormat","style","currency","getStatusBadge","animation","role","fluid","Select","onChange","e","target","width","onClick","activeKey","onSelect","eventKey","title","md","Body","toFixed","Header","height","strokeDasharray","dataKey","yAxisId","orientation","stroke","strokeWidth","cx","cy","labelLine","_ref2","percent","outerRadius","fill","entry","index","responsive","hover","sale","_sale$items","buyerName","items","id","_transaction$items","_transaction$items2","sellerName","item","idx","cardName","quantity","includes","_listing$tcgType","src","cardImage","alt","objectFit","setName","toUpperCase","price","views","show","onHide","onSuccess"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/pages/Dashboard.js"],"sourcesContent":["// src/pages/Dashboard.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Tab, Tabs, Table, Badge, Button, Alert, Spinner, Form } from 'react-bootstrap';\nimport { FaChartLine, FaBoxOpen, FaDollarSign, FaStar, FaEye, FaEdit, FaTrash, FaPlus, FaCalendarAlt, FaTrophy, FaHandshake, FaComments, FaCheck, FaTimes, FaClock } from 'react-icons/fa';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar } from 'recharts';\nimport { format, subDays, startOfDay, endOfDay } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { useAuth } from '../contexts/AuthContext';\nimport backendAPI from '../services/backendAPI';\nimport SellCardModal from '../components/SellCardModal';\n\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8'];\n\nexport default function Dashboard() {\n  const { user, isAuthenticated } = useAuth();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [showSellModal, setShowSellModal] = useState(false);\n  const [selectedPeriod, setSelectedPeriod] = useState('30');\n  const [transactions, setTransactions] = useState([]);\n  const [listings, setListings] = useState([]);\n  \n  // Data states\n  const [dashboardData, setDashboardData] = useState({\n    totalSales: 0,\n    totalRevenue: 0,\n    totalListings: 0,\n    activeListings: 0,\n    averageRating: 0,\n    totalReviews: 0,\n    salesData: [],\n    tcgDistribution: [],\n    recentSales: [],\n    allListings: [],\n    buyerTransactions: [],\n    sellerTransactions: []\n  });\n\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      fetchDashboardData();\n    }\n  }, [isAuthenticated, user, selectedPeriod]);\n\n  const fetchDashboardData = async () => {\n    setLoading(true);\n    try {\n      // Fetch dashboard stats from backend\n      const statsResponse = await backendAPI.getDashboardStats();\n      \n      if (statsResponse.success) {\n        setDashboardData({\n          totalSales: statsResponse.stats.completedSales || 0,\n          totalRevenue: 0, // TODO: Calculate from completed transactions\n          totalListings: statsResponse.stats.totalListings || 0,\n          activeListings: statsResponse.stats.totalListings || 0, // TODO: Separate active vs total\n          averageRating: statsResponse.stats.rating || 0,\n          totalReviews: 0, // TODO: Add review count to backend\n          salesData: generateSalesChartData(statsResponse.recentActivity?.activeTransactions || [], parseInt(selectedPeriod)),\n          tcgDistribution: generateTCGDistribution(statsResponse.recentActivity?.recentListings || []),\n          recentSales: statsResponse.recentActivity?.activeTransactions?.slice(0, 10) || [],\n          allListings: statsResponse.recentActivity?.recentListings || [],\n          buyerTransactions: [],\n          sellerTransactions: []\n        });\n      }\n\n      // Fetch transactions\n      const transactionsResponse = await backendAPI.getTransactions();\n      if (transactionsResponse.success) {\n        const allTransactions = transactionsResponse.transactions.map(t => ({\n          ...t,\n          createdAt: new Date(t.timeline?.created || t.createdAt),\n          type: t.buyer.userId === user._id ? 'buyer' : 'seller'\n        }));\n        setTransactions(allTransactions);\n      }\n\n      // Fetch user listings\n      const listingsResponse = await backendAPI.getUserListings();\n      if (listingsResponse.success) {\n        setListings(listingsResponse.listings || []);\n      }\n\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    }\n    setLoading(false);\n  };\n\n  const generateSalesChartData = (transactions, days) => {\n    const data = [];\n    for (let i = days - 1; i >= 0; i--) {\n      const date = subDays(new Date(), i);\n      const dayTransactions = transactions.filter(t => \n        t.createdAt && format(t.createdAt, 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\n      );\n      \n      data.push({\n        date: format(date, 'dd/MM', { locale: es }),\n        sales: dayTransactions.length,\n        revenue: dayTransactions.reduce((sum, t) => sum + (t.totalAmount || 0), 0)\n      });\n    }\n    return data;\n  };\n\n  const generateTCGDistribution = (listings) => {\n    const distribution = {};\n    listings.forEach(listing => {\n      const tcg = listing.tcgType || 'Unknown';\n      distribution[tcg] = (distribution[tcg] || 0) + 1;\n    });\n\n    return Object.entries(distribution).map(([name, value]) => ({\n      name,\n      value\n    }));\n  };\n\n  const handleDeleteListing = async (listingId) => {\n    if (window.confirm('¬øEst√°s seguro de que quieres eliminar esta publicaci√≥n?')) {\n      try {\n        // TODO: Implement delete endpoint in backend\n        console.log('Delete listing:', listingId);\n        alert('Funcionalidad de eliminar pendiente de implementar');\n      } catch (error) {\n        console.error('Error deleting listing:', error);\n        alert('Error al eliminar la publicaci√≥n');\n      }\n    }\n  };\n\n  const handleMarkAsSold = async (listingId) => {\n    if (window.confirm('¬øMarcar esta publicaci√≥n como vendida?')) {\n      try {\n        const updateData = {\n          status: 'sold_out',\n          availableQuantity: 0\n        };\n        \n        const response = await backendAPI.updateListing(listingId, updateData);\n        \n        if (response.success) {\n          fetchDashboardData();\n          alert('Publicaci√≥n marcada como vendida');\n        } else {\n          alert('Error al actualizar la publicaci√≥n: ' + response.message);\n        }\n      } catch (error) {\n        console.error('Error updating listing:', error);\n        alert('Error al actualizar la publicaci√≥n');\n      }\n    }\n  };\n\n  const updateTransactionStatus = async (transactionId, newStatus) => {\n    try {\n      // TODO: Implement specific transaction status update endpoints\n      console.log('Update transaction:', transactionId, 'to:', newStatus);\n      alert('Funcionalidad de actualizar transacci√≥n pendiente de implementar');\n    } catch (error) {\n      console.error('Error updating transaction:', error);\n      alert('Error al actualizar la transacci√≥n');\n    }\n  };\n\n  const openChat = (transaction) => {\n    // TODO: Implement chat functionality\n    alert('Funcionalidad de chat pendiente de implementar');\n  };\n\n  const getStatusBadgeTransaction = (status) => {\n    const statusMap = {\n      'PENDIENTE': { label: 'Pendiente', variant: 'warning', icon: FaClock },\n      'ACEPTADA': { label: 'Aceptada', variant: 'info', icon: FaCheck },\n      'ENVIADA': { label: 'Enviada', variant: 'primary', icon: FaBoxOpen },\n      'COMPLETADA': { label: 'Completada', variant: 'success', icon: FaCheck },\n      'CANCELADA': { label: 'Cancelada', variant: 'danger', icon: FaTimes }\n    };\n    const statusInfo = statusMap[status] || { label: status, variant: 'secondary', icon: FaClock };\n    const IconComponent = statusInfo.icon;\n    return (\n      <Badge bg={statusInfo.variant} className=\"d-flex align-items-center gap-1\">\n        <IconComponent size={12} />\n        {statusInfo.label}\n      </Badge>\n    );\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('es-CR', {\n      style: 'currency',\n      currency: 'CRC'\n    }).format(amount || 0);\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      'active': { label: 'Activo', variant: 'success' },\n      'sold': { label: 'Vendido', variant: 'info' },\n      'inactive': { label: 'Inactivo', variant: 'secondary' }\n    };\n    const statusInfo = statusMap[status] || { label: status, variant: 'secondary' };\n    return <Badge bg={statusInfo.variant}>{statusInfo.label}</Badge>;\n  };\n\n  if (loading) {\n    return (\n      <Container className=\"py-5\">\n        <div className=\"text-center\">\n          <Spinner animation=\"border\" role=\"status\" className=\"mb-3\" />\n          <p className=\"text-muted\">Cargando dashboard...</p>\n        </div>\n      </Container>\n    );\n  }\n\n  return (\n    <Container fluid className=\"py-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2 className=\"mb-0\">üìä Dashboard de Vendedor</h2>\n        <div className=\"d-flex gap-2 align-items-center\">\n          <Form.Select \n            value={selectedPeriod} \n            onChange={(e) => setSelectedPeriod(e.target.value)}\n            style={{ width: 'auto' }}\n          >\n            <option value=\"7\">√öltimos 7 d√≠as</option>\n            <option value=\"30\">√öltimos 30 d√≠as</option>\n            <option value=\"90\">√öltimos 90 d√≠as</option>\n          </Form.Select>\n          <Button \n            variant=\"primary\" \n            onClick={() => setShowSellModal(true)}\n            className=\"d-flex align-items-center gap-2\"\n          >\n            <FaPlus size={14} />\n            Nueva Venta\n          </Button>\n        </div>\n      </div>\n\n      <Tabs activeKey={activeTab} onSelect={setActiveTab} className=\"mb-4\">\n        <Tab eventKey=\"overview\" title=\"üìà Resumen\">\n          {/* Statistics Cards */}\n          <Row className=\"mb-4\">\n            <Col md={3}>\n              <Card className=\"text-center h-100 border-0 shadow-sm\">\n                <Card.Body>\n                  <FaDollarSign className=\"text-success mb-2\" size={24} />\n                  <h3 className=\"text-success\">{formatCurrency(dashboardData.totalRevenue)}</h3>\n                  <small className=\"text-muted\">Ingresos Totales</small>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={3}>\n              <Card className=\"text-center h-100 border-0 shadow-sm\">\n                <Card.Body>\n                  <FaChartLine className=\"text-primary mb-2\" size={24} />\n                  <h3 className=\"text-primary\">{dashboardData.totalSales}</h3>\n                  <small className=\"text-muted\">Ventas Realizadas</small>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={3}>\n              <Card className=\"text-center h-100 border-0 shadow-sm\">\n                <Card.Body>\n                  <FaBoxOpen className=\"text-warning mb-2\" size={24} />\n                  <h3 className=\"text-warning\">{dashboardData.activeListings}</h3>\n                  <small className=\"text-muted\">Publicaciones Activas</small>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={3}>\n              <Card className=\"text-center h-100 border-0 shadow-sm\">\n                <Card.Body>\n                  <FaStar className=\"text-info mb-2\" size={24} />\n                  <h3 className=\"text-info\">{dashboardData.averageRating.toFixed(1)}</h3>\n                  <small className=\"text-muted\">Rating Promedio ({dashboardData.totalReviews} rese√±as)</small>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Charts */}\n          <Row className=\"mb-4\">\n            <Col md={8}>\n              <Card className=\"h-100 border-0 shadow-sm\">\n                <Card.Header className=\"bg-light\">\n                  <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n                    <FaChartLine className=\"text-primary\" />\n                    Ventas e Ingresos por D√≠a\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  <ResponsiveContainer width=\"100%\" height={300}>\n                    <LineChart data={dashboardData.salesData}>\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis dataKey=\"date\" />\n                      <YAxis yAxisId=\"left\" orientation=\"left\" />\n                      <YAxis yAxisId=\"right\" orientation=\"right\" />\n                      <Tooltip />\n                      <Line \n                        yAxisId=\"left\" \n                        type=\"monotone\" \n                        dataKey=\"sales\" \n                        stroke=\"#0d6efd\" \n                        strokeWidth={2}\n                        name=\"Ventas\"\n                      />\n                      <Line \n                        yAxisId=\"right\" \n                        type=\"monotone\" \n                        dataKey=\"revenue\" \n                        stroke=\"#198754\" \n                        strokeWidth={2}\n                        name=\"Ingresos (‚Ç°)\"\n                      />\n                    </LineChart>\n                  </ResponsiveContainer>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col md={4}>\n              <Card className=\"h-100 border-0 shadow-sm\">\n                <Card.Header className=\"bg-light\">\n                  <h5 className=\"mb-0\">Distribuci√≥n por TCG</h5>\n                </Card.Header>\n                <Card.Body>\n                  <ResponsiveContainer width=\"100%\" height={300}>\n                    <PieChart>\n                      <Pie\n                        data={dashboardData.tcgDistribution}\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        labelLine={false}\n                        label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n                        outerRadius={80}\n                        fill=\"#8884d8\"\n                        dataKey=\"value\"\n                      >\n                        {dashboardData.tcgDistribution.map((entry, index) => (\n                          <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                        ))}\n                      </Pie>\n                      <Tooltip />\n                    </PieChart>\n                  </ResponsiveContainer>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Recent Sales */}\n          <Row>\n            <Col>\n              <Card className=\"border-0 shadow-sm\">\n                <Card.Header className=\"bg-light\">\n                  <h5 className=\"mb-0 d-flex align-items-center gap-2\">\n                    <FaTrophy className=\"text-warning\" />\n                    Ventas Recientes\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  {dashboardData.recentSales.length === 0 ? (\n                    <Alert variant=\"info\" className=\"text-center\">\n                      <FaCalendarAlt className=\"me-2\" />\n                      No hay ventas registradas en este per√≠odo.\n                    </Alert>\n                  ) : (\n                    <Table responsive hover>\n                      <thead>\n                        <tr>\n                          <th>Fecha</th>\n                          <th>Comprador</th>\n                          <th>Productos</th>\n                          <th>Total</th>\n                          <th>Estado</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {dashboardData.recentSales.map((sale) => (\n                          <tr key={sale.id}>\n                            <td>\n                              {sale.createdAt ? \n                                format(sale.createdAt, 'dd/MM/yyyy HH:mm', { locale: es }) : \n                                'N/A'\n                              }\n                            </td>\n                            <td>{sale.buyerName || 'Usuario'}</td>\n                            <td>{sale.items?.length || 1} producto(s)</td>\n                            <td className=\"fw-bold text-success\">\n                              {formatCurrency(sale.totalAmount)}\n                            </td>\n                            <td>\n                              <Badge bg=\"success\">Completada</Badge>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </Table>\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </Tab>\n\n        <Tab eventKey=\"transactions\" title=\"üí∞ Transacciones\">\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h4>Historial de Transacciones</h4>\n            <div className=\"d-flex gap-2\">\n              <Badge bg=\"info\">Como Comprador: {dashboardData.buyerTransactions.length}</Badge>\n              <Badge bg=\"success\">Como Vendedor: {dashboardData.sellerTransactions.length}</Badge>\n            </div>\n          </div>\n\n          {transactions.length === 0 ? (\n            <Alert variant=\"info\" className=\"text-center\">\n              <FaHandshake className=\"me-2\" />\n              No tienes transacciones registradas en este per√≠odo.\n            </Alert>\n          ) : (\n            <Card className=\"border-0 shadow-sm\">\n              <Card.Body>\n                <Table responsive hover>\n                  <thead>\n                    <tr>\n                      <th>Fecha</th>\n                      <th>Tipo</th>\n                      <th>Contraparte</th>\n                      <th>Productos</th>\n                      <th>Total</th>\n                      <th>Estado</th>\n                      <th>Acciones</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {transactions.map((transaction) => (\n                      <tr key={transaction.id}>\n                        <td>\n                          {transaction.createdAt ? \n                            format(transaction.createdAt, 'dd/MM/yyyy HH:mm', { locale: es }) : \n                            'N/A'\n                          }\n                        </td>\n                        <td>\n                          <Badge bg={transaction.type === 'seller' ? 'success' : 'primary'}>\n                            {transaction.type === 'seller' ? 'üì§ Venta' : 'üì• Compra'}\n                          </Badge>\n                        </td>\n                        <td>\n                          {transaction.type === 'seller' ? \n                            transaction.buyerName : \n                            transaction.sellerName\n                          }\n                        </td>\n                        <td>\n                          <div>\n                            {transaction.items?.slice(0, 2).map((item, idx) => (\n                              <small key={idx} className=\"d-block text-muted\">\n                                {item.cardName} (x{item.quantity})\n                              </small>\n                            ))}\n                            {transaction.items?.length > 2 && (\n                              <small className=\"text-muted\">+{transaction.items.length - 2} m√°s</small>\n                            )}\n                          </div>\n                        </td>\n                        <td className=\"fw-bold text-success\">\n                          {formatCurrency(transaction.totalAmount)}\n                        </td>\n                        <td>\n                          {getStatusBadgeTransaction(transaction.status)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex gap-1\">\n                            <Button\n                              variant=\"outline-primary\"\n                              size=\"sm\"\n                              onClick={() => openChat(transaction)}\n                              title=\"Abrir chat\"\n                            >\n                              <FaComments size={12} />\n                            </Button>\n                            \n                            {transaction.type === 'seller' && transaction.status === 'PENDIENTE' && (\n                              <Button\n                                variant=\"outline-success\"\n                                size=\"sm\"\n                                onClick={() => updateTransactionStatus(transaction.id, 'ACEPTADA')}\n                                title=\"Aceptar oferta\"\n                              >\n                                <FaCheck size={12} />\n                              </Button>\n                            )}\n                            \n                            {transaction.type === 'seller' && transaction.status === 'ACEPTADA' && (\n                              <Button\n                                variant=\"outline-info\"\n                                size=\"sm\"\n                                onClick={() => updateTransactionStatus(transaction.id, 'ENVIADA')}\n                                title=\"Marcar como enviado\"\n                              >\n                                <FaBoxOpen size={12} />\n                              </Button>\n                            )}\n                            \n                            {transaction.status === 'ENVIADA' && (\n                              <Button\n                                variant=\"outline-success\"\n                                size=\"sm\"\n                                onClick={() => updateTransactionStatus(transaction.id, 'COMPLETADA')}\n                                title=\"Marcar como completado\"\n                              >\n                                <FaTrophy size={12} />\n                              </Button>\n                            )}\n                            \n                            {['PENDIENTE', 'ACEPTADA'].includes(transaction.status) && (\n                              <Button\n                                variant=\"outline-danger\"\n                                size=\"sm\"\n                                onClick={() => updateTransactionStatus(transaction.id, 'CANCELADA')}\n                                title=\"Cancelar transacci√≥n\"\n                              >\n                                <FaTimes size={12} />\n                              </Button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          )}\n        </Tab>\n\n        <Tab eventKey=\"listings\" title=\"üì¶ Mis Publicaciones\">\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h4>Gesti√≥n de Publicaciones</h4>\n            <Button \n              variant=\"primary\" \n              onClick={() => setShowSellModal(true)}\n              className=\"d-flex align-items-center gap-2\"\n            >\n              <FaPlus size={14} />\n              Nueva Publicaci√≥n\n            </Button>\n          </div>\n\n          {dashboardData.allListings.length === 0 ? (\n            <Alert variant=\"info\" className=\"text-center\">\n              <FaBoxOpen className=\"me-2\" />\n              No tienes publicaciones activas. ¬°Crea tu primera publicaci√≥n!\n            </Alert>\n          ) : (\n            <Card className=\"border-0 shadow-sm\">\n              <Card.Body>\n                <Table responsive hover>\n                  <thead>\n                    <tr>\n                      <th>Imagen</th>\n                      <th>Carta</th>\n                      <th>TCG</th>\n                      <th>Precio</th>\n                      <th>Stock</th>\n                      <th>Vistas</th>\n                      <th>Estado</th>\n                      <th>Acciones</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {dashboardData.allListings.map((listing) => (\n                      <tr key={listing.id}>\n                        <td>\n                          <img \n                            src={listing.cardImage || 'https://via.placeholder.com/50'} \n                            alt={listing.cardName}\n                            style={{ width: '50px', height: '70px', objectFit: 'contain' }}\n                            className=\"rounded\"\n                          />\n                        </td>\n                        <td>\n                          <div>\n                            <div className=\"fw-bold\">{listing.cardName}</div>\n                            <small className=\"text-muted\">{listing.setName}</small>\n                          </div>\n                        </td>\n                        <td>\n                          <Badge bg=\"secondary\">{listing.tcgType?.toUpperCase()}</Badge>\n                        </td>\n                        <td className=\"fw-bold text-success\">\n                          {formatCurrency(listing.price)}\n                        </td>\n                        <td>\n                          <Badge bg={listing.availableQuantity > 0 ? 'success' : 'danger'}>\n                            {listing.availableQuantity || 0}\n                          </Badge>\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center gap-1\">\n                            <FaEye className=\"text-muted\" size={14} />\n                            <span>{listing.views || 0}</span>\n                          </div>\n                        </td>\n                        <td>{getStatusBadge(listing.status)}</td>\n                        <td>\n                          <div className=\"d-flex gap-1\">\n                            <Button \n                              variant=\"outline-primary\" \n                              size=\"sm\"\n                              title=\"Editar\"\n                            >\n                              <FaEdit size={12} />\n                            </Button>\n                            {listing.status === 'active' && (\n                              <Button \n                                variant=\"outline-warning\" \n                                size=\"sm\"\n                                onClick={() => handleMarkAsSold(listing.id)}\n                                title=\"Marcar como vendida\"\n                              >\n                                <FaDollarSign size={12} />\n                              </Button>\n                            )}\n                            <Button \n                              variant=\"outline-danger\" \n                              size=\"sm\"\n                              onClick={() => handleDeleteListing(listing.id)}\n                              title=\"Eliminar\"\n                            >\n                              <FaTrash size={12} />\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          )}\n        </Tab>\n      </Tabs>\n\n      {/* Sell Card Modal */}\n      <SellCardModal\n        show={showSellModal}\n        onHide={() => setShowSellModal(false)}\n        onSuccess={() => {\n          setShowSellModal(false);\n          fetchDashboardData(); // Refresh dashboard data\n        }}\n      />\n\n      {/* Chat Modal - TODO: Implement */}\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}