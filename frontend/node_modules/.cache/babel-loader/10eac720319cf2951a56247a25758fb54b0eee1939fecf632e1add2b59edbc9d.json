{"ast":null,"code":"var _jsxFileName = \"/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/contexts/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/contexts/AuthContext.js\n// Nuevo contexto de autenticaci√≥n que usa el backend Node.js en lugar de Firebase\n\nimport { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport backendAPI from '../services/backendAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(undefined);\nexport function AuthProvider({\n  children\n}) {\n  _s();\n  var _user$verification, _user$verification2, _user$suspension;\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Verificar token al cargar la aplicaci√≥n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      setLoading(true);\n      try {\n        if (backendAPI.token) {\n          // Verificar si el token es v√°lido\n          const response = await backendAPI.verifyToken();\n          if (response.success) {\n            setUser(response.user);\n          } else {\n            // Token inv√°lido, limpiar\n            backendAPI.clearTokens();\n            setUser(null);\n          }\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n        // Si hay error verificando token, limpiar todo\n        backendAPI.clearTokens();\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    initializeAuth();\n  }, []);\n\n  // Funci√≥n para registrar nuevo usuario\n  const register = useCallback(async userData => {\n    try {\n      setError(null);\n      setLoading(true);\n      const response = await backendAPI.register(userData);\n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Usuario registrado exitosamente:', response.user.username);\n        return {\n          success: true,\n          user: response.user\n        };\n      } else {\n        throw new Error(response.message || 'Error en registro');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en registro:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error registrando usuario'\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para login\n  const login = useCallback(async (email, password) => {\n    try {\n      setError(null);\n      setLoading(true);\n      const response = await backendAPI.login(email, password);\n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Login exitoso:', response.user.username);\n        return {\n          success: true,\n          user: response.user\n        };\n      } else {\n        throw new Error(response.message || 'Error en login');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en login:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Credenciales incorrectas'\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para logout\n  const logout = useCallback(async () => {\n    try {\n      setLoading(true);\n      await backendAPI.logout();\n      setUser(null);\n      console.log('üëã Logout exitoso');\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('‚ùå Error en logout:', error);\n      // Aunque haya error en logout, limpiar estado local\n      setUser(null);\n      return {\n        success: false,\n        error: error.message\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para actualizar perfil\n  const updateProfile = useCallback(async profileData => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile(profileData);\n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Perfil actualizado');\n        return {\n          success: true,\n          user: response.user\n        };\n      } else {\n        throw new Error(response.message || 'Error actualizando perfil');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando perfil:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error actualizando perfil'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para actualizar configuraciones\n  const updateSettings = useCallback(async settings => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile({\n        settings\n      });\n      if (response.success) {\n        // Actualizar settings en el usuario actual\n        setUser(prevUser => ({\n          ...prevUser,\n          settings: response.settings\n        }));\n        console.log('‚öôÔ∏è Configuraciones actualizadas');\n        return {\n          success: true,\n          settings: response.settings\n        };\n      } else {\n        throw new Error(response.message || 'Error actualizando configuraciones');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando configuraciones:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error actualizando configuraciones'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para cambiar contrase√±a (TODO: implementar en backend)\n  const changePassword = useCallback(async (currentPassword, newPassword) => {\n    try {\n      setError(null);\n      // TODO: Implementar endpoint en backend\n      console.log('üîê Funcionalidad de cambio de contrase√±a pendiente');\n      return {\n        success: false,\n        error: 'Funcionalidad pendiente de implementar'\n      };\n    } catch (error) {\n      console.error('‚ùå Error cambiando contrase√±a:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error cambiando contrase√±a'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para subir foto de perfil (TODO: implementar)\n  const uploadProfilePicture = useCallback(async file => {\n    try {\n      setError(null);\n      // TODO: Implementar upload de im√°genes\n      console.log('üì∑ Funcionalidad de foto de perfil pendiente');\n      return {\n        success: false,\n        error: 'Funcionalidad pendiente de implementar'\n      };\n    } catch (error) {\n      console.error('‚ùå Error subiendo foto de perfil:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error subiendo foto de perfil'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para eliminar foto de perfil (TODO: implementar)\n  const deleteProfilePicture = useCallback(async () => {\n    try {\n      setError(null);\n      console.log('üóëÔ∏è Funcionalidad pendiente');\n      return {\n        success: false,\n        error: 'Funcionalidad pendiente de implementar'\n      };\n    } catch (error) {\n      console.error('‚ùå Error eliminando foto de perfil:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error eliminando foto de perfil'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para obtener estad√≠sticas del usuario\n  const getUserStats = useCallback(async () => {\n    try {\n      setError(null);\n      const response = await backendAPI.getDashboardStats();\n      if (response.success) {\n        return {\n          success: true,\n          stats: response.stats\n        };\n      } else {\n        throw new Error(response.message || 'Error obteniendo estad√≠sticas');\n      }\n    } catch (error) {\n      console.error('‚ùå Error obteniendo estad√≠sticas:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error obteniendo estad√≠sticas'\n      };\n    }\n  }, []);\n\n  // Funci√≥n para refrescar datos del usuario\n  const refreshUser = useCallback(async () => {\n    try {\n      if (!backendAPI.token) {\n        setUser(null);\n        return {\n          success: false,\n          error: 'No autenticado'\n        };\n      }\n      const response = await backendAPI.getProfile();\n      if (response.success) {\n        setUser(response.user);\n        return {\n          success: true,\n          user: response.user\n        };\n      } else {\n        throw new Error(response.message || 'Error refrescando usuario');\n      }\n    } catch (error) {\n      console.error('‚ùå Error refrescando usuario:', error);\n      setError(error);\n      return {\n        success: false,\n        error: error.message || 'Error refrescando datos'\n      };\n    }\n  }, []);\n\n  // Limpiar errores\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Valor del contexto\n  const value = {\n    // Estado\n    user,\n    loading,\n    error,\n    // M√©todos de autenticaci√≥n\n    register,\n    login,\n    logout,\n    // M√©todos de perfil\n    updateProfile,\n    updateSettings,\n    changePassword,\n    uploadProfilePicture,\n    deleteProfilePicture,\n    // M√©todos utilitarios\n    getUserStats,\n    refreshUser,\n    clearError,\n    // Estado de autenticaci√≥n\n    isAuthenticated: !!user && !loading,\n    canUseP2P: (user === null || user === void 0 ? void 0 : (_user$verification = user.verification) === null || _user$verification === void 0 ? void 0 : _user$verification.phone) && (user === null || user === void 0 ? void 0 : (_user$verification2 = user.verification) === null || _user$verification2 === void 0 ? void 0 : _user$verification2.identity) && !(user !== null && user !== void 0 && (_user$suspension = user.suspension) !== null && _user$suspension !== void 0 && _user$suspension.suspended),\n    // Informaci√≥n del usuario\n    currentUser: user,\n    userRole: (user === null || user === void 0 ? void 0 : user.role) || 'user'\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 10\n  }, this);\n}\n\n// Hook personalizado para usar el contexto\n_s(AuthProvider, \"tWSEuriaqg6HfDSVRcSWPk7ys7c=\");\n_c = AuthProvider;\nexport function useAuth() {\n  _s2();\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\n// Hook para verificar si est√° autenticado (m√°s simple)\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport function useAuthState() {\n  _s3();\n  const {\n    user,\n    loading\n  } = useAuth();\n  return {\n    user,\n    loading,\n    isAuthenticated: !!user && !loading\n  };\n}\n_s3(useAuthState, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","useCallback","backendAPI","jsxDEV","_jsxDEV","AuthContext","undefined","AuthProvider","children","_s","_user$verification","_user$verification2","_user$suspension","user","setUser","loading","setLoading","error","setError","initializeAuth","token","response","verifyToken","success","clearTokens","console","register","userData","log","username","Error","message","login","email","password","logout","updateProfile","profileData","updateSettings","settings","prevUser","changePassword","currentPassword","newPassword","uploadProfilePicture","file","deleteProfilePicture","getUserStats","getDashboardStats","stats","refreshUser","getProfile","clearError","value","isAuthenticated","canUseP2P","verification","phone","identity","suspension","suspended","currentUser","userRole","role","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","useAuthState","_s3","$RefreshReg$"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/contexts/AuthContext.js"],"sourcesContent":["// src/contexts/AuthContext.js\n// Nuevo contexto de autenticaci√≥n que usa el backend Node.js en lugar de Firebase\n\nimport { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport backendAPI from '../services/backendAPI';\n\nconst AuthContext = createContext(undefined);\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Verificar token al cargar la aplicaci√≥n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      setLoading(true);\n      try {\n        if (backendAPI.token) {\n          // Verificar si el token es v√°lido\n          const response = await backendAPI.verifyToken();\n          if (response.success) {\n            setUser(response.user);\n          } else {\n            // Token inv√°lido, limpiar\n            backendAPI.clearTokens();\n            setUser(null);\n          }\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n        // Si hay error verificando token, limpiar todo\n        backendAPI.clearTokens();\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initializeAuth();\n  }, []);\n\n  // Funci√≥n para registrar nuevo usuario\n  const register = useCallback(async (userData) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      const response = await backendAPI.register(userData);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Usuario registrado exitosamente:', response.user.username);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error en registro');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en registro:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error registrando usuario' \n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para login\n  const login = useCallback(async (email, password) => {\n    try {\n      setError(null);\n      setLoading(true);\n\n      const response = await backendAPI.login(email, password);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Login exitoso:', response.user.username);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error en login');\n      }\n    } catch (error) {\n      console.error('‚ùå Error en login:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Credenciales incorrectas' \n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para logout\n  const logout = useCallback(async () => {\n    try {\n      setLoading(true);\n      await backendAPI.logout();\n      setUser(null);\n      console.log('üëã Logout exitoso');\n      return { success: true };\n    } catch (error) {\n      console.error('‚ùå Error en logout:', error);\n      // Aunque haya error en logout, limpiar estado local\n      setUser(null);\n      return { success: false, error: error.message };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Funci√≥n para actualizar perfil\n  const updateProfile = useCallback(async (profileData) => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile(profileData);\n      \n      if (response.success) {\n        setUser(response.user);\n        console.log('‚úÖ Perfil actualizado');\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error actualizando perfil');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error actualizando perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para actualizar configuraciones\n  const updateSettings = useCallback(async (settings) => {\n    try {\n      setError(null);\n      const response = await backendAPI.updateProfile({ settings });\n      \n      if (response.success) {\n        // Actualizar settings en el usuario actual\n        setUser(prevUser => ({\n          ...prevUser,\n          settings: response.settings\n        }));\n        console.log('‚öôÔ∏è Configuraciones actualizadas');\n        return { success: true, settings: response.settings };\n      } else {\n        throw new Error(response.message || 'Error actualizando configuraciones');\n      }\n    } catch (error) {\n      console.error('‚ùå Error actualizando configuraciones:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error actualizando configuraciones' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para cambiar contrase√±a (TODO: implementar en backend)\n  const changePassword = useCallback(async (currentPassword, newPassword) => {\n    try {\n      setError(null);\n      // TODO: Implementar endpoint en backend\n      console.log('üîê Funcionalidad de cambio de contrase√±a pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error cambiando contrase√±a:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error cambiando contrase√±a' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para subir foto de perfil (TODO: implementar)\n  const uploadProfilePicture = useCallback(async (file) => {\n    try {\n      setError(null);\n      // TODO: Implementar upload de im√°genes\n      console.log('üì∑ Funcionalidad de foto de perfil pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error subiendo foto de perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error subiendo foto de perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para eliminar foto de perfil (TODO: implementar)\n  const deleteProfilePicture = useCallback(async () => {\n    try {\n      setError(null);\n      console.log('üóëÔ∏è Funcionalidad pendiente');\n      return { \n        success: false, \n        error: 'Funcionalidad pendiente de implementar' \n      };\n    } catch (error) {\n      console.error('‚ùå Error eliminando foto de perfil:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error eliminando foto de perfil' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para obtener estad√≠sticas del usuario\n  const getUserStats = useCallback(async () => {\n    try {\n      setError(null);\n      const response = await backendAPI.getDashboardStats();\n      \n      if (response.success) {\n        return { success: true, stats: response.stats };\n      } else {\n        throw new Error(response.message || 'Error obteniendo estad√≠sticas');\n      }\n    } catch (error) {\n      console.error('‚ùå Error obteniendo estad√≠sticas:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error obteniendo estad√≠sticas' \n      };\n    }\n  }, []);\n\n  // Funci√≥n para refrescar datos del usuario\n  const refreshUser = useCallback(async () => {\n    try {\n      if (!backendAPI.token) {\n        setUser(null);\n        return { success: false, error: 'No autenticado' };\n      }\n\n      const response = await backendAPI.getProfile();\n      \n      if (response.success) {\n        setUser(response.user);\n        return { success: true, user: response.user };\n      } else {\n        throw new Error(response.message || 'Error refrescando usuario');\n      }\n    } catch (error) {\n      console.error('‚ùå Error refrescando usuario:', error);\n      setError(error);\n      return { \n        success: false, \n        error: error.message || 'Error refrescando datos' \n      };\n    }\n  }, []);\n\n  // Limpiar errores\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Valor del contexto\n  const value = {\n    // Estado\n    user,\n    loading,\n    error,\n    \n    // M√©todos de autenticaci√≥n\n    register,\n    login,\n    logout,\n    \n    // M√©todos de perfil\n    updateProfile,\n    updateSettings,\n    changePassword,\n    uploadProfilePicture,\n    deleteProfilePicture,\n    \n    // M√©todos utilitarios\n    getUserStats,\n    refreshUser,\n    clearError,\n    \n    // Estado de autenticaci√≥n\n    isAuthenticated: !!user && !loading,\n    canUseP2P: user?.verification?.phone && user?.verification?.identity && !user?.suspension?.suspended,\n    \n    // Informaci√≥n del usuario\n    currentUser: user,\n    userRole: user?.role || 'user',\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\n// Hook personalizado para usar el contexto\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\n// Hook para verificar si est√° autenticado (m√°s simple)\nexport function useAuthState() {\n  const { user, loading } = useAuth();\n  return { user, loading, isAuthenticated: !!user && !loading };\n}\n\nexport default AuthContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}