{"ast":null,"code":"// src/services/verificationService.js\n// Servicio para verificaci贸n de identidad y datos de usuario\n\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\nimport { validateCedulaFormat, validatePhoneFormat } from '../utils/validation';\nclass VerificationService {\n  /**\n   * Verifica la c茅dula de un usuario\n   * En un sistema real, esto har铆a una consulta a la TSE (Tribunal Supremo de Elecciones)\n   * Por ahora, solo validamos el formato\n   */\n  async verifyCedula(userId, cedula, fullName) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase code commented out - using mock verification');\n\n      // Validar formato\n      const validation = validateCedulaFormat(cedula);\n      if (!validation.valid) {\n        return {\n          success: false,\n          error: validation.error\n        };\n      }\n\n      // En un sistema real, aqu铆 har铆amos la consulta a la TSE\n      // Por ahora, simulamos una verificaci贸n exitosa si el formato es v谩lido\n      const isValid = await this.simulateTSEVerification(validation.cleanCedula, fullName);\n      if (isValid) {\n        // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n        /*\n        await updateDoc(doc(db, 'users', userId), {\n          'verification.identity': true,\n          'verification.cedulaVerifiedAt': new Date(),\n          'verification.cedulaNumber': validation.formatted,\n          'verificationStatus.cedula': true,\n          'fullName': fullName,\n          'updatedAt': new Date()\n        });\n        */\n\n        // Mock verification update for development\n        console.log('Mock cedula verification completed for user:', userId);\n        return {\n          success: true,\n          message: ' Funcionalidad en desarrollo - C茅dula verificada exitosamente (simulado)'\n        };\n      } else {\n        return {\n          success: false,\n          error: 'No se pudo verificar la c茅dula. Verifica que los datos sean correctos.'\n        };\n      }\n    } catch (error) {\n      console.error('Error verificando c茅dula:', error);\n      return {\n        success: false,\n        error: 'Error interno del servidor'\n      };\n    }\n  }\n\n  /**\n   * Verifica el n煤mero de tel茅fono\n   * En un sistema real, enviar铆a un SMS con c贸digo de verificaci贸n\n   */\n  async verifyPhone(userId, phone) {\n    try {\n      // Validar formato\n      const validation = validatePhoneFormat(phone);\n      if (!validation.valid) {\n        return {\n          success: false,\n          error: validation.error\n        };\n      }\n\n      // Generar c贸digo de verificaci贸n\n      const verificationCode = this.generateVerificationCode();\n\n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const expiresAt = new Date(Date.now() + 5 * 60 * 1000);\n      \n      await updateDoc(doc(db, 'users', userId), {\n        'phoneVerification.code': verificationCode,\n        'phoneVerification.expiresAt': expiresAt,\n        'phoneVerification.phone': validation.formatted,\n        'phoneVerification.attempts': 0,\n        'updatedAt': new Date()\n      });\n      */\n\n      // Mock phone verification for development\n      console.log('Mock phone verification code generated for user:', userId);\n\n      // En un sistema real, aqu铆 enviar铆amos el SMS\n      console.log(`C贸digo de verificaci贸n para ${validation.formatted}: ${verificationCode}`);\n      return {\n        success: true,\n        message: ` Funcionalidad en desarrollo - C贸digo enviado a ${validation.formatted} (simulado)`,\n        // En desarrollo, devolvemos el c贸digo para testing\n        developmentCode: process.env.NODE_ENV === 'development' ? verificationCode : undefined\n      };\n    } catch (error) {\n      console.error('Error enviando c贸digo de verificaci贸n:', error);\n      return {\n        success: false,\n        error: 'Error enviando c贸digo de verificaci贸n'\n      };\n    }\n  }\n\n  /**\n   * Confirma el c贸digo de verificaci贸n de tel茅fono\n   */\n  async confirmPhoneVerification(userId, code) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase phone confirmation commented out - using mock confirmation');\n\n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      if (!userDoc.exists()) {\n        return { success: false, error: 'Usuario no encontrado' };\n      }\n       const userData = userDoc.data();\n      const phoneVerification = userData.phoneVerification;\n       if (!phoneVerification || !phoneVerification.code) {\n        return { success: false, error: 'No hay verificaci贸n pendiente' };\n      }\n       // Verificar si el c贸digo expir贸\n      const now = new Date();\n      if (now > phoneVerification.expiresAt.toDate()) {\n        return { success: false, error: 'El c贸digo ha expirado' };\n      }\n       // Verificar intentos\n      if (phoneVerification.attempts >= 3) {\n        return { success: false, error: 'Demasiados intentos. Solicita un nuevo c贸digo' };\n      }\n       // Verificar c贸digo\n      if (code !== phoneVerification.code) {\n        // Incrementar intentos\n        await updateDoc(doc(db, 'users', userId), {\n          'phoneVerification.attempts': (phoneVerification.attempts || 0) + 1,\n          'updatedAt': new Date()\n        });\n         return { success: false, error: 'C贸digo incorrecto' };\n      }\n       // C贸digo correcto - marcar como verificado\n      await updateDoc(doc(db, 'users', userId), {\n        'verification.phone': true,\n        'verification.phoneVerifiedAt': new Date(),\n        'verificationStatus.phone': true,\n        'phone': phoneVerification.phone,\n        // Limpiar datos temporales\n        'phoneVerification': null,\n        'updatedAt': new Date()\n      });\n      */\n\n      // Mock phone confirmation for development\n      console.log('Mock phone confirmation for user:', userId, 'with code:', code);\n      return {\n        success: true,\n        message: ' Funcionalidad en desarrollo - Tel茅fono verificado exitosamente (simulado)'\n      };\n    } catch (error) {\n      console.error('Error confirmando verificaci贸n:', error);\n      return {\n        success: false,\n        error: 'Error interno del servidor'\n      };\n    }\n  }\n\n  /**\n   * Obtiene el estado de verificaci贸n de un usuario\n   */\n  async getVerificationStatus(userId) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase status check commented out - using mock status');\n\n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      if (!userDoc.exists()) {\n        return null;\n      }\n       const userData = userDoc.data();\n      return {\n        email: userData.verification?.email || false,\n        phone: userData.verification?.phone || false,\n        identity: userData.verification?.identity || false,\n        isFullyVerified: (userData.verification?.email && userData.verification?.phone && userData.verification?.identity) || false\n      };\n      */\n\n      // Mock verification status for development\n      return {\n        email: true,\n        // Mock as verified\n        phone: false,\n        identity: false,\n        isFullyVerified: false\n      };\n    } catch (error) {\n      console.error('Error obteniendo estado de verificaci贸n:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Verifica si un usuario puede realizar transacciones P2P\n   * Requiere tel茅fono y c茅dula verificados\n   */\n  async canUseP2P(userId) {\n    const status = await this.getVerificationStatus(userId);\n    return status && status.phone && status.identity;\n  }\n\n  // Utilidades privadas\n\n  /**\n   * Simula verificaci贸n con TSE\n   * En un sistema real, esto har铆a una consulta a la API del TSE\n   */\n  async simulateTSEVerification(cedula, fullName) {\n    // Simular delay de API\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    // En desarrollo, aceptamos cualquier c茅dula con formato v谩lido\n    if (process.env.NODE_ENV === 'development') {\n      return true;\n    }\n\n    // En producci贸n, aqu铆 har铆amos la consulta real a TSE\n    // return await this.queryTSEDatabase(cedula, fullName);\n\n    return true; // Por ahora, aceptamos todas\n  }\n\n  /**\n   * Genera c贸digo de verificaci贸n de 6 d铆gitos\n   */\n  generateVerificationCode() {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n  }\n\n  /**\n   * Env铆a SMS (simulado)\n   * En producci贸n, usar铆a un servicio como Twilio o similar\n   */\n  async sendSMS(phone, message) {\n    // En desarrollo, solo log\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`SMS a ${phone}: ${message}`);\n      return {\n        success: true\n      };\n    }\n\n    // En producci贸n, integraci贸n con servicio SMS\n    // return await this.smsProvider.send(phone, message);\n\n    return {\n      success: true\n    }; // Por ahora\n  }\n\n  /**\n   * Limpia c贸digos de verificaci贸n expirados\n   * Esta funci贸n deber铆a ejecutarse peri贸dicamente via Cloud Function\n   */\n  async cleanupExpiredCodes() {\n    // Esta l贸gica estar铆a en una Cloud Function\n    console.log('Limpiando c贸digos expirados...');\n  }\n}\n\n// Instancia singleton\nconst verificationService = new VerificationService();\nexport default verificationService;","map":{"version":3,"names":["validateCedulaFormat","validatePhoneFormat","VerificationService","verifyCedula","userId","cedula","fullName","console","log","validation","valid","success","error","isValid","simulateTSEVerification","cleanCedula","message","verifyPhone","phone","verificationCode","generateVerificationCode","formatted","developmentCode","process","env","NODE_ENV","undefined","confirmPhoneVerification","code","getVerificationStatus","email","identity","isFullyVerified","canUseP2P","status","Promise","resolve","setTimeout","Math","floor","random","toString","sendSMS","cleanupExpiredCodes","verificationService"],"sources":["/home/frodev/Downloads/FroDev-CR-TropicalTCGPlayers/src/services/verificationService.js"],"sourcesContent":["// src/services/verificationService.js\n// Servicio para verificaci贸n de identidad y datos de usuario\n\n// FIREBASE REMOVED - TODO: Replace with backend API\n// FIREBASE REMOVED - TODO: Replace with backend API\nimport { validateCedulaFormat, validatePhoneFormat } from '../utils/validation';\n\nclass VerificationService {\n  \n  /**\n   * Verifica la c茅dula de un usuario\n   * En un sistema real, esto har铆a una consulta a la TSE (Tribunal Supremo de Elecciones)\n   * Por ahora, solo validamos el formato\n   */\n  async verifyCedula(userId, cedula, fullName) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase code commented out - using mock verification');\n      \n      // Validar formato\n      const validation = validateCedulaFormat(cedula);\n      if (!validation.valid) {\n        return {\n          success: false,\n          error: validation.error\n        };\n      }\n\n      // En un sistema real, aqu铆 har铆amos la consulta a la TSE\n      // Por ahora, simulamos una verificaci贸n exitosa si el formato es v谩lido\n      const isValid = await this.simulateTSEVerification(validation.cleanCedula, fullName);\n      \n      if (isValid) {\n        // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n        /*\n        await updateDoc(doc(db, 'users', userId), {\n          'verification.identity': true,\n          'verification.cedulaVerifiedAt': new Date(),\n          'verification.cedulaNumber': validation.formatted,\n          'verificationStatus.cedula': true,\n          'fullName': fullName,\n          'updatedAt': new Date()\n        });\n        */\n\n        // Mock verification update for development\n        console.log('Mock cedula verification completed for user:', userId);\n\n        return {\n          success: true,\n          message: ' Funcionalidad en desarrollo - C茅dula verificada exitosamente (simulado)'\n        };\n      } else {\n        return {\n          success: false,\n          error: 'No se pudo verificar la c茅dula. Verifica que los datos sean correctos.'\n        };\n      }\n\n    } catch (error) {\n      console.error('Error verificando c茅dula:', error);\n      return {\n        success: false,\n        error: 'Error interno del servidor'\n      };\n    }\n  }\n\n  /**\n   * Verifica el n煤mero de tel茅fono\n   * En un sistema real, enviar铆a un SMS con c贸digo de verificaci贸n\n   */\n  async verifyPhone(userId, phone) {\n    try {\n      // Validar formato\n      const validation = validatePhoneFormat(phone);\n      if (!validation.valid) {\n        return {\n          success: false,\n          error: validation.error\n        };\n      }\n\n      // Generar c贸digo de verificaci贸n\n      const verificationCode = this.generateVerificationCode();\n      \n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const expiresAt = new Date(Date.now() + 5 * 60 * 1000);\n      \n      await updateDoc(doc(db, 'users', userId), {\n        'phoneVerification.code': verificationCode,\n        'phoneVerification.expiresAt': expiresAt,\n        'phoneVerification.phone': validation.formatted,\n        'phoneVerification.attempts': 0,\n        'updatedAt': new Date()\n      });\n      */\n\n      // Mock phone verification for development\n      console.log('Mock phone verification code generated for user:', userId);\n\n      // En un sistema real, aqu铆 enviar铆amos el SMS\n      console.log(`C贸digo de verificaci贸n para ${validation.formatted}: ${verificationCode}`);\n      \n      return {\n        success: true,\n        message: ` Funcionalidad en desarrollo - C贸digo enviado a ${validation.formatted} (simulado)`,\n        // En desarrollo, devolvemos el c贸digo para testing\n        developmentCode: process.env.NODE_ENV === 'development' ? verificationCode : undefined\n      };\n\n    } catch (error) {\n      console.error('Error enviando c贸digo de verificaci贸n:', error);\n      return {\n        success: false,\n        error: 'Error enviando c贸digo de verificaci贸n'\n      };\n    }\n  }\n\n  /**\n   * Confirma el c贸digo de verificaci贸n de tel茅fono\n   */\n  async confirmPhoneVerification(userId, code) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase phone confirmation commented out - using mock confirmation');\n      \n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      if (!userDoc.exists()) {\n        return { success: false, error: 'Usuario no encontrado' };\n      }\n\n      const userData = userDoc.data();\n      const phoneVerification = userData.phoneVerification;\n\n      if (!phoneVerification || !phoneVerification.code) {\n        return { success: false, error: 'No hay verificaci贸n pendiente' };\n      }\n\n      // Verificar si el c贸digo expir贸\n      const now = new Date();\n      if (now > phoneVerification.expiresAt.toDate()) {\n        return { success: false, error: 'El c贸digo ha expirado' };\n      }\n\n      // Verificar intentos\n      if (phoneVerification.attempts >= 3) {\n        return { success: false, error: 'Demasiados intentos. Solicita un nuevo c贸digo' };\n      }\n\n      // Verificar c贸digo\n      if (code !== phoneVerification.code) {\n        // Incrementar intentos\n        await updateDoc(doc(db, 'users', userId), {\n          'phoneVerification.attempts': (phoneVerification.attempts || 0) + 1,\n          'updatedAt': new Date()\n        });\n\n        return { success: false, error: 'C贸digo incorrecto' };\n      }\n\n      // C贸digo correcto - marcar como verificado\n      await updateDoc(doc(db, 'users', userId), {\n        'verification.phone': true,\n        'verification.phoneVerifiedAt': new Date(),\n        'verificationStatus.phone': true,\n        'phone': phoneVerification.phone,\n        // Limpiar datos temporales\n        'phoneVerification': null,\n        'updatedAt': new Date()\n      });\n      */\n\n      // Mock phone confirmation for development\n      console.log('Mock phone confirmation for user:', userId, 'with code:', code);\n\n      return {\n        success: true,\n        message: ' Funcionalidad en desarrollo - Tel茅fono verificado exitosamente (simulado)'\n      };\n\n    } catch (error) {\n      console.error('Error confirmando verificaci贸n:', error);\n      return {\n        success: false,\n        error: 'Error interno del servidor'\n      };\n    }\n  }\n\n  /**\n   * Obtiene el estado de verificaci贸n de un usuario\n   */\n  async getVerificationStatus(userId) {\n    try {\n      // TODO: Replace with backend API calls\n      console.log(' VerificationService: Firebase status check commented out - using mock status');\n      \n      // FIREBASE CODE COMMENTED OUT - REPLACE WITH BACKEND API\n      /*\n      const userDoc = await getDoc(doc(db, 'users', userId));\n      if (!userDoc.exists()) {\n        return null;\n      }\n\n      const userData = userDoc.data();\n      return {\n        email: userData.verification?.email || false,\n        phone: userData.verification?.phone || false,\n        identity: userData.verification?.identity || false,\n        isFullyVerified: (userData.verification?.email && userData.verification?.phone && userData.verification?.identity) || false\n      };\n      */\n\n      // Mock verification status for development\n      return {\n        email: true, // Mock as verified\n        phone: false,\n        identity: false,\n        isFullyVerified: false\n      };\n    } catch (error) {\n      console.error('Error obteniendo estado de verificaci贸n:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Verifica si un usuario puede realizar transacciones P2P\n   * Requiere tel茅fono y c茅dula verificados\n   */\n  async canUseP2P(userId) {\n    const status = await this.getVerificationStatus(userId);\n    return status && status.phone && status.identity;\n  }\n\n  // Utilidades privadas\n\n  /**\n   * Simula verificaci贸n con TSE\n   * En un sistema real, esto har铆a una consulta a la API del TSE\n   */\n  async simulateTSEVerification(cedula, fullName) {\n    // Simular delay de API\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    \n    // En desarrollo, aceptamos cualquier c茅dula con formato v谩lido\n    if (process.env.NODE_ENV === 'development') {\n      return true;\n    }\n\n    // En producci贸n, aqu铆 har铆amos la consulta real a TSE\n    // return await this.queryTSEDatabase(cedula, fullName);\n    \n    return true; // Por ahora, aceptamos todas\n  }\n\n  /**\n   * Genera c贸digo de verificaci贸n de 6 d铆gitos\n   */\n  generateVerificationCode() {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n  }\n\n  /**\n   * Env铆a SMS (simulado)\n   * En producci贸n, usar铆a un servicio como Twilio o similar\n   */\n  async sendSMS(phone, message) {\n    // En desarrollo, solo log\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`SMS a ${phone}: ${message}`);\n      return { success: true };\n    }\n\n    // En producci贸n, integraci贸n con servicio SMS\n    // return await this.smsProvider.send(phone, message);\n    \n    return { success: true }; // Por ahora\n  }\n\n  /**\n   * Limpia c贸digos de verificaci贸n expirados\n   * Esta funci贸n deber铆a ejecutarse peri贸dicamente via Cloud Function\n   */\n  async cleanupExpiredCodes() {\n    // Esta l贸gica estar铆a en una Cloud Function\n    console.log('Limpiando c贸digos expirados...');\n  }\n}\n\n// Instancia singleton\nconst verificationService = new VerificationService();\n\nexport default verificationService;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA,SAASA,oBAAoB,EAAEC,mBAAmB,QAAQ,qBAAqB;AAE/E,MAAMC,mBAAmB,CAAC;EAExB;AACF;AACA;AACA;AACA;EACE,MAAMC,YAAYA,CAACC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAE;IAC3C,IAAI;MACF;MACAC,OAAO,CAACC,GAAG,CAAC,+EAA+E,CAAC;;MAE5F;MACA,MAAMC,UAAU,GAAGT,oBAAoB,CAACK,MAAM,CAAC;MAC/C,IAAI,CAACI,UAAU,CAACC,KAAK,EAAE;QACrB,OAAO;UACLC,OAAO,EAAE,KAAK;UACdC,KAAK,EAAEH,UAAU,CAACG;QACpB,CAAC;MACH;;MAEA;MACA;MACA,MAAMC,OAAO,GAAG,MAAM,IAAI,CAACC,uBAAuB,CAACL,UAAU,CAACM,WAAW,EAAET,QAAQ,CAAC;MAEpF,IAAIO,OAAO,EAAE;QACX;QACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;QAEQ;QACAN,OAAO,CAACC,GAAG,CAAC,8CAA8C,EAAEJ,MAAM,CAAC;QAEnE,OAAO;UACLO,OAAO,EAAE,IAAI;UACbK,OAAO,EAAE;QACX,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACLL,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE;QACT,CAAC;MACH;IAEF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,OAAO;QACLD,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMK,WAAWA,CAACb,MAAM,EAAEc,KAAK,EAAE;IAC/B,IAAI;MACF;MACA,MAAMT,UAAU,GAAGR,mBAAmB,CAACiB,KAAK,CAAC;MAC7C,IAAI,CAACT,UAAU,CAACC,KAAK,EAAE;QACrB,OAAO;UACLC,OAAO,EAAE,KAAK;UACdC,KAAK,EAAEH,UAAU,CAACG;QACpB,CAAC;MACH;;MAEA;MACA,MAAMO,gBAAgB,GAAG,IAAI,CAACC,wBAAwB,CAAC,CAAC;;MAExD;MACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAEM;MACAb,OAAO,CAACC,GAAG,CAAC,kDAAkD,EAAEJ,MAAM,CAAC;;MAEvE;MACAG,OAAO,CAACC,GAAG,CAAC,+BAA+BC,UAAU,CAACY,SAAS,KAAKF,gBAAgB,EAAE,CAAC;MAEvF,OAAO;QACLR,OAAO,EAAE,IAAI;QACbK,OAAO,EAAE,qDAAqDP,UAAU,CAACY,SAAS,aAAa;QAC/F;QACAC,eAAe,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAGN,gBAAgB,GAAGO;MAC/E,CAAC;IAEH,CAAC,CAAC,OAAOd,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAC9D,OAAO;QACLD,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH;EACF;;EAEA;AACF;AACA;EACE,MAAMe,wBAAwBA,CAACvB,MAAM,EAAEwB,IAAI,EAAE;IAC3C,IAAI;MACF;MACArB,OAAO,CAACC,GAAG,CAAC,6FAA6F,CAAC;;MAE1G;MACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MASM;MACAD,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEJ,MAAM,EAAE,YAAY,EAAEwB,IAAI,CAAC;MAE5E,OAAO;QACLjB,OAAO,EAAE,IAAI;QACbK,OAAO,EAAE;MACX,CAAC;IAEH,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvD,OAAO;QACLD,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;IACH;EACF;;EAEA;AACF;AACA;EACE,MAAMiB,qBAAqBA,CAACzB,MAAM,EAAE;IAClC,IAAI;MACF;MACAG,OAAO,CAACC,GAAG,CAAC,iFAAiF,CAAC;;MAE9F;MACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAGM;MACA,OAAO;QACLsB,KAAK,EAAE,IAAI;QAAE;QACbZ,KAAK,EAAE,KAAK;QACZa,QAAQ,EAAE,KAAK;QACfC,eAAe,EAAE;MACnB,CAAC;IACH,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAChE,OAAO,IAAI;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMqB,SAASA,CAAC7B,MAAM,EAAE;IACtB,MAAM8B,MAAM,GAAG,MAAM,IAAI,CAACL,qBAAqB,CAACzB,MAAM,CAAC;IACvD,OAAO8B,MAAM,IAAIA,MAAM,CAAChB,KAAK,IAAIgB,MAAM,CAACH,QAAQ;EAClD;;EAEA;;EAEA;AACF;AACA;AACA;EACE,MAAMjB,uBAAuBA,CAACT,MAAM,EAAEC,QAAQ,EAAE;IAC9C;IACA,MAAM,IAAI6B,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;;IAEvD;IACA,IAAIb,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;MAC1C,OAAO,IAAI;IACb;;IAEA;IACA;;IAEA,OAAO,IAAI,CAAC,CAAC;EACf;;EAEA;AACF;AACA;EACEL,wBAAwBA,CAAA,EAAG;IACzB,OAAOkB,IAAI,CAACC,KAAK,CAAC,MAAM,GAAGD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC/D;;EAEA;AACF;AACA;AACA;EACE,MAAMC,OAAOA,CAACxB,KAAK,EAAEF,OAAO,EAAE;IAC5B;IACA,IAAIO,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;MAC1ClB,OAAO,CAACC,GAAG,CAAC,SAASU,KAAK,KAAKF,OAAO,EAAE,CAAC;MACzC,OAAO;QAAEL,OAAO,EAAE;MAAK,CAAC;IAC1B;;IAEA;IACA;;IAEA,OAAO;MAAEA,OAAO,EAAE;IAAK,CAAC,CAAC,CAAC;EAC5B;;EAEA;AACF;AACA;AACA;EACE,MAAMgC,mBAAmBA,CAAA,EAAG;IAC1B;IACApC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;EAC/C;AACF;;AAEA;AACA,MAAMoC,mBAAmB,GAAG,IAAI1C,mBAAmB,CAAC,CAAC;AAErD,eAAe0C,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}